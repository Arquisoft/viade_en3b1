(this.webpackJsonpviade_en3b1=this.webpackJsonpviade_en3b1||[]).push([[0],{1125:function(e,t){},1127:function(e,t){},1151:function(e,t,a){},1156:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),o=a.n(i),c=(a(629),a(151)),l=a(95),s=a(1216),u=a(1217),m=a(1197),p=a(1204),d=a(1249),h=a(1250),f=a(1208),g=a(1199),v=a(84),E=(a(630),a(25)),b=a(601),y=a(1244),k=a(535),x=a.n(k),w=a(536),O=a.n(w),j=a(1200),S=a(1201),N=a(12),T=a(220),C=a.n(T),P=Object(N.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(b.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),B=Object(N.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.secondary.main}}}}))(y.a),W=Object(p.a)((function(e){return{button:{marginRight:e.spacing(2)}}})),I=function(){var e=W(),t=r.a.useState(null),a=Object(E.a)(t,2),n=a[0],i=a[1];return r.a.createElement("div",null,r.a.createElement(m.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){i(e.currentTarget)},className:e.button},"Your Activity ",r.a.createElement(C.a,null)),r.a.createElement(P,{id:"customized-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){i(null)}},r.a.createElement(g.a,{underline:"none",href:"#/dashboard"},r.a.createElement(B,{divider:!0},r.a.createElement(j.a,null,r.a.createElement(x.a,null)),r.a.createElement(S.a,{primary:"My routes"}))),r.a.createElement(g.a,{underline:"none",href:"#/create-route"},r.a.createElement(B,null,r.a.createElement(j.a,null,r.a.createElement(O.a,null)),r.a.createElement(S.a,{primary:"Create route"})))))},D=a(1245),z=a(1207),L=a(540),R=a.n(L),F=a(541),M=a.n(F),A=a(2),G=a.n(A),V=a(14),J=a(1205),U=a(1206),Y=a(10),_=a(11),H=function(){function e(t,a,n){Object(Y.a)(this,e),this.webId=t,this.name=a,this.photo=n}return Object(_.a)(e,[{key:"getWebId",value:function(){return this.webId}},{key:"getName",value:function(){return this.name}},{key:"getPhoto",value:function(){return this.photo}},{key:"toJson",value:function(){return JSON.stringify({url:this.webId})}}]),e}(),q=a(212).default;function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(V.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(J.a)("user.vcard_hasPhoto")||"unknown",e.abrupt("return",t.value);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return Q.apply(this,arguments)}function Q(){return(Q=Object(V.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(47),e.prev=1,e.next=4,t.currentSession();case 4:return n=e.sent,e.abrupt("return",n.webId);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(V.a)(G.a.mark((function e(){var t,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(U.a)("user.friends"),a=[],t.forEach(function(){var e=Object(V.a)(G.a.mark((function e(t){var n,r,i,o,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.value,r=q[n],e.next=4,te(r);case 4:return i=e.sent,e.next=7,ne(r);case 7:o=e.sent,c=new H(r.toString(),i,o),a.push(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(V.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.name;case 2:return a=e.sent,e.prev=3,e.abrupt("return",a.value);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",t.toString().substring(8,t.toString().length-1));case 10:case"end":return e.stop()}}),e,null,[[3,7]])})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(V.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.vcard_hasPhoto;case 2:return a=e.sent,e.prev=3,e.abrupt("return",a.value);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return","images/userPictureUndefined");case 10:case"end":return e.stop()}}),e,null,[[3,7]])})))).apply(this,arguments)}var ie=a(542),oe=a.n(ie),ce=a(543),le=a.n(ce),se=a(47);function ue(){se.logout();var e="".concat(window.location.origin);window.location.replace(e)}var me=a(227),pe=a.n(me),de=a(228),he=a.n(de),fe=Object(N.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(b.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),ge=Object(N.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.secondary.main}}}}))(y.a),ve=Object(p.a)((function(e){return{button:{marginRight:e.spacing(2)},profile:{width:e.spacing(3),height:e.spacing(3)},profileBig:{width:e.spacing(5),height:e.spacing(5)}}})),Ee=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],i=t[1];X().then((function(e){i(e)}));var o=ve(),c=r.a.useState(null),l=Object(E.a)(c,2),s=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement(m.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){u(e.currentTarget)},className:o.button},r.a.createElement(D.a,{alt:"Profile photo",src:a,className:o.profile})," ",r.a.createElement(C.a,null)),r.a.createElement(fe,{id:"customized-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){u(null)}},r.a.createElement(ge,{divider:!0,disableRipple:!0},r.a.createElement(j.a,null,r.a.createElement(D.a,{alt:"Profile photo",src:a,className:o.profileBig})),r.a.createElement(S.a,{primary:r.a.createElement(z.a,{src:"user.name"})})),r.a.createElement(g.a,{underline:"none",href:"#/profile"},r.a.createElement(ge,null,r.a.createElement(j.a,null,r.a.createElement(R.a,null)),r.a.createElement(S.a,{primary:"Your profile"}))),r.a.createElement(g.a,{underline:"none",href:"#/profile/friends"},r.a.createElement(ge,null,r.a.createElement(j.a,null,r.a.createElement(M.a,null)),r.a.createElement(S.a,{primary:"Friends"}))),r.a.createElement(g.a,{underline:"none",href:"#/profile/groups"},r.a.createElement(ge,{divider:!0},r.a.createElement(j.a,null,r.a.createElement(pe.a,null)),r.a.createElement(S.a,{primary:"Groups"}))),r.a.createElement(g.a,{underline:"none",href:"#/help"},r.a.createElement(ge,null,r.a.createElement(j.a,null,r.a.createElement(oe.a,null)),r.a.createElement(S.a,{primary:"Need help?"}))),r.a.createElement(g.a,{underline:"none",href:"#/about"},r.a.createElement(ge,{divider:!0},r.a.createElement(j.a,null,r.a.createElement(he.a,null)),r.a.createElement(S.a,{primary:"About us"}))),r.a.createElement(g.a,{underline:"none",onClick:function(){return ue()}},r.a.createElement(ge,null,r.a.createElement(j.a,null,r.a.createElement(le.a,null)),r.a.createElement(S.a,{primary:"Sign out"})))))},be=a(544),ye=a.n(be),ke=a(17),xe=a(18),we=a(600),Oe=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(e){var n;return Object(Y.a)(this,a),(n=t.call(this,e)).state={open:!1},n}return Object(_.a)(a,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleSave",value:function(e){this.setState({open:!1}),this.props.history.push({pathname:"/import-route",routes:e})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(m.a,{"data-testid":"btn-import-route-test",color:"primary",variant:"contained",className:t.btn,onClick:function(){return e.handleOpen()}},"Import Route"),r.a.createElement(we.a,{open:this.state.open,disableRejectionFeedback:!0,acceptedFiles:[".gpx",".json",".jsonld"],showPreviews:!0,showPreviewsInDropzone:!1,maxFileSize:3e7,filesLimit:10,clearOnUnmount:!0,onSave:function(t){return e.handleSave(t)},onClose:this.handleClose.bind(this),submitButtonText:"import",cancelButtonText:"cancel",dialogTitle:"Import routes",dropzoneText:"Drag and drop any GPX or JSON route files"}))}}]),a}(n.Component),je=Object(l.g)(Object(N.a)((function(e){return{btn:{marginRight:e.spacing(2)}}}))(Oe)),Se=Object(p.a)((function(e){return{root:{flexGrow:1},toolbar:{minHeight:"3vh",paddingTop:e.spacing(3),paddingBottom:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},link:{flexGrow:1}}})),Ne=function(){var e=Se();return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"static"},r.a.createElement(u.a,{className:e.toolbar},r.a.createElement(f.a,{className:e.link},r.a.createElement(f.a,{container:!0},r.a.createElement(g.a,{underline:"none",color:"inherit",href:"#/home"},r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0},r.a.createElement("img",{src:ye.a,alt:"Viade Logo",style:{height:"2.5rem",width:"2.5rem"}})),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{variant:"h4"},"ViaDe")))))),r.a.createElement(d.a,null,r.a.createElement(je,null)),r.a.createElement(d.a,null,r.a.createElement(I,null)),r.a.createElement(h.a,null,r.a.createElement(m.a,{className:e.menuButton,href:"#/register",color:"primary",variant:"contained"},"Sign Up")),r.a.createElement(d.a,null,r.a.createElement(Ee,null)),r.a.createElement(h.a,null,r.a.createElement(m.a,{"data-testid":"btn-login-navbar",className:e.menuButton,href:"#/login",color:"inherit",variant:"outlined"},"Sign In")))))},Te=a(1220),Ce=a(1219),Pe=a(554),Be=a.n(Pe),We=a(1218),Ie=a(557),De=a.n(Ie),ze=a(555),Le=a.n(ze),Re=a(556),Fe=a.n(Re),Me=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(10,10),marginTop:"auto",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]}}}));function Ae(){var e=Me();return r.a.createElement("div",null,r.a.createElement("footer",{className:e.footer},r.a.createElement(We.a,{maxWidth:"xs"},r.a.createElement(f.a,{container:!0,spacing:5},r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{variant:"h6"},"ViaDe En3B1"),r.a.createElement(v.a,{variant:"subtitle2",color:"textSecondary"},"Made by ",r.a.createElement(g.a,{style:{color:"#302c58"},target:"_blank",href:"https://www.linkedin.com/in/pablocanalsuarez/"},"Pablo Ca\xf1al")),r.a.createElement("div",null,r.a.createElement(g.a,{href:"https://www.linkedin.com/in/pablocanalsuarez/"},r.a.createElement(Le.a,{fontSize:"default"})),r.a.createElement(g.a,{style:{marginLeft:"0.5rem"},target:"_blank",href:"mailto:uo264903@uniovi.es"},r.a.createElement(Fe.a,{fontSize:"default"})))),r.a.createElement(Ce.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(f.a,{item:!0,style:{marginTop:"1rem"}},r.a.createElement(g.a,{target:"_blank",href:"https://github.com/Arquisoft/viade_en3b1/"},r.a.createElement(De.a,{fontSize:"large"})))))))}var Ge=function(){return r.a.createElement("div",null,r.a.createElement(Te.a,null),r.a.createElement(Ne,null),r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,container:!0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:"20rem",marginBottom:"30rem"}},r.a.createElement(f.a,{item:!0,xs:3,style:{marginBottom:"1rem"}},r.a.createElement("img",{src:Be.a,alt:"Viade Logo",style:{height:"6.5rem",width:"6.5rem"}})),r.a.createElement(f.a,{item:!0,xs:3},r.a.createElement(v.a,{style:{marginBottom:"0.5rem"},variant:"h4",color:"inherit",align:"center"},"Welcome to ViaDe."),r.a.createElement(Ce.a,null),r.a.createElement(v.a,{style:{marginTop:"0.5rem"},variant:"body1",color:"inherit",align:"center"},"The first routes management system based on SOLID technology.")),r.a.createElement(m.a,{style:{marginTop:"2rem"},href:"#/about",variant:"outlined",color:"primary"},"Learn More")),r.a.createElement(f.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(Ae,null))))},Ve=a(558),Je=a.n(Ve),Ue=a(1237),Ye=function(){return r.a.createElement("div",{style:{marginLeft:"5vh",marginTop:"5vh",textAlign:"center"}},r.a.createElement("img",{alt:"404 logo",src:Je.a}),r.a.createElement(Ue.a,{fontSize:"h5.fontSize",fontWeight:"fontWeightBold"},"Go back to ",r.a.createElement(g.a,{style:{color:"#27DEBF"},href:"#/"},"Home")))},_e=a(559),He=a.n(_e),qe=a(1221),Xe=a(561),Ze=a.n(Xe),Ke=a(562),Qe=a.n(Ke),$e=a(560),et=a.n($e),tt=Object(p.a)((function(e){return{root:{minWidth:275,margin:50,marginTop:"15rem"},paper:{marginTop:e.spacing(5),marginBottom:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#7c4dff"},form:{width:"80%",marginTop:e.spacing(1),alignItems:"center",justifyContent:"center"},submit:{margin:e.spacing(1,0,2)},link:{margin:e.spacing(1,0,2)}}}));function at(){var e=tt();return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement(We.a,{component:"main",maxWidth:"sm"},r.a.createElement(qe.a,{className:e.root,elevation:4},r.a.createElement(Te.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(D.a,{className:e.avatar},r.a.createElement(He.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Hi! Welcome to Solid."),r.a.createElement("div",{className:e.form},r.a.createElement(m.a,{"data-testid":"btn-how-to-choose-provider",id:"btn-how-to-choose-provider",fullWidth:!0,color:"primary",className:e.link,startIcon:r.a.createElement(et.a,null),onClick:function(){return window.open("https://solid.inrupt.com/how-it-works")}},"How to choose a Provider?"),r.a.createElement(m.a,{"data-testid":"btn-inrupt-provider",id:"btn-inrupt-provider",fullWidth:!0,variant:"outlined",color:"primary",className:e.submit,startIcon:r.a.createElement(Ze.a,null),onClick:function(){return window.open("https://inrupt.net/register")}},"Inrupt"),r.a.createElement(m.a,{"data-testid":"btn-solid-community-provider",id:"btn-solid-community-provider",fullWidth:!0,variant:"outlined",color:"primary",className:e.submit,startIcon:r.a.createElement(Qe.a,null),onClick:function(){return window.open("https://solid.community/register")}},"Solid Community"))))),r.a.createElement(f.a,{item:!0,xs:12,sm:12,md:12,style:{marginTop:"36rem"}},r.a.createElement(Ae,null)))}var nt=a(1223),rt=a(1251),it=a(1252),ot=a(1243),ct=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;Object(Y.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).points=e.props.route.getTrackPoints().map((function(e){return[e.getLatitude(),e.getLongitude()]})),e.setPopup=function(){},e}return Object(_.a)(a,[{key:"render",value:function(){return r.a.createElement(rt.a,{bounds:this.points,doubleClickZoom:!1,dragging:!1,keyboard:!1,scrollWheelZoom:!1,tap:!1,touchZoom:!1,zoomControl:!1,boxZoom:!1},r.a.createElement(it.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(ot.a,{positions:this.points,color:"blue"}))}}]),a}(n.Component),lt=a(1222),st=Object(p.a)((function(e){return{root:{width:290,marginBottom:"2vh",marginTop:"4vh",background:e.palette.secondary.light},pos:{color:"black"}}}));function ut(e){var t=st(),a=e.route.getName();return r.a.createElement(qe.a,{elevation:5,className:t.root},r.a.createElement(lt.a,null,r.a.createElement(ct,{route:e.route})),r.a.createElement(nt.a,{style:{textAlign:"center"}},r.a.createElement(f.a,{container:!0,spacing:2,alignItems:"center",justify:"center"},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(g.a,{underline:"none",href:"#/RouteDetails/"+e.route.getId()},r.a.createElement(v.a,{variant:"h5",component:"h2"},a))),r.a.createElement(f.a,{item:!0},r.a.createElement(m.a,{id:a,variant:"outlined",href:"#/RouteDetails/"+e.route.getId(),color:"inherit",style:{marginLeft:"auto",marginRight:"auto"}},"Details")))))}var mt=a(47),pt=a.n(mt),dt=a(480),ht=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(Y.a)(this,e),this.content=t,this.name=a,this.url="",this.id=null===n?Object(dt.a)().toString():n}return Object(_.a)(e,[{key:"setUrl",value:function(e){this.url=e}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getContent",value:function(){return this.content}},{key:"getExtension",value:function(){return"."+this.name.split(".").pop()}},{key:"getUrl",value:function(){return this.url}},{key:"toJson",value:function(){return{"@id":this.url,name:this.name}}}]),e}(),ft=function(){function e(t,a,n){Object(Y.a)(this,e),this.latitude=t,this.longitude=a,this.elevation=n||""}return Object(_.a)(e,[{key:"getLatitude",value:function(){return this.latitude}},{key:"getElevation",value:function(){return this.elevation}},{key:"getLongitude",value:function(){return this.longitude}},{key:"setElevation",value:function(e){this.elevation=e}},{key:"toJson",value:function(){return{latitude:this.latitude,longitude:this.longitude,elevation:this.elevation}}}]),e}(),gt=function(){function e(t,a,n,r,i,o,c){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(Y.a)(this,e),this.checkInput(t,n),this.name=t,this.date=o,this.description=a,this.id=null,this.media=null,this.trackPoints=null,this.comments=null,this.setID(c),this.setMedia(i),this.setTrackPoints(n),this.setComments(r),this.totalDistance=this.calculateDistance(),this.author=l,this.url=null}return Object(_.a)(e,[{key:"checkInput",value:function(e,t){if(!e||0===e.length)throw Error("Name can't be null nor empty");if(0===t.length)throw Error("Trackpoints list can't be empty")}},{key:"getUrl",value:function(){return this.url}},{key:"setUrl",value:function(e){null!==e&&(this.url=e)}},{key:"setID",value:function(e){this.id=null===e||void 0===e?Object(dt.a)().toString():e}},{key:"setMedia",value:function(e){if(null!==e)if(e[0]instanceof ht)this.media=e;else{if(e instanceof ht)return this.media=[],void this.media.push(e);var t=[];e.forEach((function(e){t.push(new ht(e,e.name,null))})),this.media=t}else this.media=[]}},{key:"setTrackPoints",value:function(e){if(null!==e)if(e[0]instanceof ft)this.trackPoints=e;else{var t=[];e.forEach((function(e){t.push(new ft(e.lat,e.lng))})),this.trackPoints=t}else this.trackPoints=[]}},{key:"setComments",value:function(e){this.comments=null===e?[]:e}},{key:"addTrackPoints",value:function(e){var t=this;e.length>0&&e.forEach((function(e){t.trackPoints.push(e)}))}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getDate",value:function(){return this.date}},{key:"getDescription",value:function(){return this.description}},{key:"getTrackPoints",value:function(){return this.trackPoints}},{key:"getComments",value:function(){return this.comments}},{key:"getMedia",value:function(){return this.media}},{key:"getDistance",value:function(){return this.totalDistance}},{key:"getAuthor",value:function(){return this.author}},{key:"addMedia",value:function(e){this.media.push(e)}},{key:"deleteMedia",value:function(e){this.media.splice(this.media.indexOf(e),1)}},{key:"calculateElevation",value:function(){var e=Object(V.a)(G.a.mark((function e(){var t,a,n,r,i=this;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.trackPoints){e.next=2;break}return e.abrupt("return");case 2:if(0===this.trackPoints[0].getElevation().length){e.next=4;break}return e.abrupt("return");case 4:for(t="https://api.jawg.io/elevations?locations=",a=0;a<this.trackPoints.length;a++)n=this.trackPoints.length-1,r=this.trackPoints[a],t+=a===n?r.getLatitude()+","+r.getLongitude():r.getLatitude()+","+r.getLongitude()+"%7C";t+="&access-token=TW7jT2vvzu9Oxs3Yr5RmuVkdwYZW6cKCfYdDoj55KBp9YmpuBqBrFcQtbNOI0QVi",fetch(t).then((function(e){200===e.status&&e.json().then((function(e){for(var t=0;t<e.length;t++){var a=parseInt(e[t].elevation,10);if(isNaN(a))return void alert("Error while parsing elevation data");i.trackPoints[t].setElevation(a)}}))})).catch((function(e){alert("Error while trying to fetch trackpoints elevation.")}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculateDistance",value:function(){if(null!==this.trackPoints&&this.trackPoints&&0!==this.trackPoints.length){for(var e=0,t=0;t<this.trackPoints.length;t++)if(t<this.trackPoints.length-1){var a=[this.trackPoints[t].getLatitude(),this.trackPoints[t].getLongitude()],n=[this.trackPoints[t+1].getLatitude(),this.trackPoints[t+1].getLongitude()];e+=parseInt(this.calculateDistanceTwoPoints(a,n),10)}return isNaN(e)?-1:e}}},{key:"calculateDistanceTwoPoints",value:function(e,t){var a=this.toRadian(e[1]),n=this.toRadian(e[0]),r=this.toRadian(t[1]),i=this.toRadian(t[0]),o=i-n,c=r-a,l=Math.pow(Math.sin(o/2),2)+Math.cos(n)*Math.cos(i)*Math.pow(Math.sin(c/2),2);return 6371*(2*Math.asin(Math.sqrt(l)))*1e3}},{key:"toRadian",value:function(e){return e*Math.PI/180}},{key:"toJsonLD",value:function(){var e=[],t=[];return this.trackPoints.forEach((function(t){return e.push(t.toJson())})),this.media.forEach((function(e){return t.push(e.toJson())})),JSON.stringify({"@context":{"@version":1.1,comments:{"@container":"@list","@id":"viade:comments"},description:{"@id":"schema:description","@type":"xs:string"},media:{"@container":"@list","@id":"viade:media"},name:{"@id":"schema:name","@type":"xs:string"},points:{"@container":"@list","@id":"viade:points"},latitude:{"@id":"schema:latitude","@type":"xs:double"},longitude:{"@id":"schema:longitude","@type":"xs:double"},elevation:{"@id":"schema:elevation","@type":"xsd:double"},author:{"@id":"schema:author","@type":"@id"},date:{"@id":"schema:DateTime","@type":"xsd:dateTime"},rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",viade:"http://arquisoft.github.io/viadeSpec/",xsd:"http://www.w3.org/2001/XMLSchema#"},id:this.id,date:this.date,name:this.name,author:this.author||"",description:this.description,comments:this.comments,media:t,points:e})}}]),e}();function vt(e){return Et.apply(this,arguments)}function Et(){return(Et=Object(V.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t[0]instanceof ht){e.next=2;break}throw new Error("Media must be of Object Media to be uploaded");case 2:return e.next=4,pt.a.currentSession();case 4:a=e.sent,n=new Nt(a),t.forEach((function(e){var t=n.storeMedia(e);e.setUrl(t)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(V.a)(G.a.mark((function e(t){var a,n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.a.currentSession();case 2:return a=e.sent,n=new Nt(a),e.next=6,n.findMedia(t);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kt=function(){function e(){Object(Y.a)(this,e)}return Object(_.a)(e,[{key:"parse",value:function(){var e=Object(V.a)(G.a.mark((function e(t,a){var n,r,i,o,c,l,s,u,m,p,d;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,n=JSON.parse(t),e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return");case 8:return r=n.name,i=n.id,o=new Date(n.date),c=n.description,l=n.points,s=[],u=n.media,m=this.parsePoints(l),e.next=18,this.parseMedia(u);case 18:p=e.sent,e.prev=19,d=new gt(r,c,m,s,null,o,i),e.next=26;break;case 23:return e.prev=23,e.t1=e.catch(19),e.abrupt("return");case 26:return d.setMedia(p),d.setUrl(a),e.abrupt("return",d);case 31:return e.prev=31,e.t2=e.catch(0),e.abrupt("return");case 34:case"end":return e.stop()}}),e,this,[[0,31],[1,5],[19,23]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"parseImport",value:function(){var e=Object(V.a)(G.a.mark((function e(t){var a,n,r,i,o,c,l,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,a=JSON.parse(t),e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return");case 8:n=a.name,r=new Date(a.date),i=a.description,o=a.points,c=[],l=this.parsePoints(o),e.prev=14,s=new gt(n,i,l,c,null,r,null),e.next=21;break;case 18:return e.prev=18,e.t1=e.catch(14),e.abrupt("return");case 21:return e.abrupt("return",s);case 24:return e.prev=24,e.t2=e.catch(0),e.abrupt("return");case 27:case"end":return e.stop()}}),e,this,[[0,24],[1,5],[14,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"parseMedia",value:function(){var e=Object(V.a)(G.a.mark((function e(t){var a,n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.length)){e.next=10;break}return e.next=5,bt(t[n]);case 5:null!==(r=e.sent)&&a.push(r);case 7:n++,e.next=2;break;case 10:return a=this.filterMedia(a),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterMedia",value:function(e){return e.filter((function(e){return void 0!==e}))}},{key:"parsePoints",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(new ft(e[a].latitude,e[a].longitude,e[a].elevation));return t}}]),e}(),xt=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(Y.a)(this,e),this.name=t,this.members=a,this.id=null===n?Object(dt.a)().toString():n}return Object(_.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getMembers",value:function(){return this.members}},{key:"getId",value:function(){return this.id}},{key:"toJsonLD",value:function(){var e=[];return this.members.forEach((function(t){e.push({url:t})})),JSON.stringify({"@context":{"@version":1.1,users:{"@container":"@list","@id":"schema:Person"},name:{"@id":"schema:name","@type":"xs:string"},url:{"@id":"schema:url","@type":"xs:string"},schema:"http://schema.org/",xsd:"http://www.w3.org/2001/XMLSchema#"},id:this.id,name:this.name,users:e})}}]),e}(),wt=function(){function e(){Object(Y.a)(this,e)}return Object(_.a)(e,[{key:"parse",value:function(e){var t=JSON.parse(e),a=t.name,n=t.id,r=t.users,i=this.parseMembers(r);return new xt(a,i,n)}},{key:"parseMembers",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].url);return t}}]),e}(),Ot=a(58),jt=a(47),St=new(a(1026))(jt),Nt=function(){function e(t){Object(Y.a)(this,e),this.session=t,this.pod=t.webId.split("profile")[0],this.viadeFolder="viade/",this.defaultFolder=this.pod+this.viadeFolder,this.routesFolder="routes/",this.resourcesFolder="resources/",this.commentsFolder="comments/",this.groupsFolder="groups/"}return Object(_.a)(e,[{key:"storeRoute",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=this.defaultFolder+this.routesFolder+e;this.storeFile(n,t,a)}},{key:"storeMedia",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.defaultFolder+this.resourcesFolder+e.getId()+e.getExtension();return this.storeFile(a,e.getContent(),t),a}},{key:"storeGroup",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=this.defaultFolder+this.groupsFolder+e;this.storeFile(n,t,a)}},{key:"storeFile",value:function(e,t,a){St.createFile(e,t).then((function(e){a(0)}),(function(e){a(-1)}))}},{key:"deleteRoute",value:function(){var e=Object(V.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==t?this.deleteFile(t):alert("Route url cannot be null");case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteFile",value:function(){var e=Object(V.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.itemExists(t);case 2:if(!e.sent){e.next=4;break}try{St.delete(t)}catch(a){alert(a)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAllRoutes",value:function(){var e=Object(V.a)(G.a.mark((function e(){var t,a,n,r,i,o,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.defaultFolder+this.routesFolder,a=[],e.next=4,St.itemExists(t);case 4:if(!e.sent){e.next=28;break}return e.prev=5,e.next=8,St.readFolder(t);case 8:n=e.sent,r=n.files,i=0;case 11:if(!(i<r.length)){e.next=22;break}return e.next=14,St.readFile(r[i].url);case 14:return o=e.sent,e.next=17,(new kt).parse(o,r[i].url);case 17:c=e.sent,a.push(c);case 19:i++,e.next=11;break;case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(5);case 26:e.next=30;break;case 28:return e.next=30,St.createFolder(t);case 30:return a.includes(void 0)&&Ot.c.warn("Some of your routes couldn't be listed.",{toastId:"1",autoClose:1e4}),e.abrupt("return",a.filter((function(e){return void 0!==e})));case 32:case"end":return e.stop()}}),e,this,[[5,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"findMedia",value:function(){var e=Object(V.a)(G.a.mark((function e(t){var a,n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t["@id"],e.next=3,St.itemExists(a).catch((function(e){return null}));case 3:if(!e.sent){e.next=18;break}return e.prev=5,e.next=8,St.readFile(a);case 8:r=e.sent,(n=new ht(r,t.name)).setUrl(a),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",null);case 16:e.next=18;break;case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findAllGroups",value:function(){var e=Object(V.a)(G.a.mark((function e(){var t,a,n,r,i,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.defaultFolder+this.groupsFolder,a=[],e.next=4,St.itemExists(t);case 4:if(!e.sent){e.next=25;break}return e.prev=5,e.next=8,St.readFolder(t);case 8:n=e.sent,r=n.files,i=0;case 11:if(!(i<r.length)){e.next=19;break}return e.next=14,St.readFile(r[i].url);case 14:o=e.sent,a.push((new wt).parse(o));case 16:i++,e.next=11;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(5);case 23:e.next=27;break;case 25:return e.next=27,St.createFolder(t);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e,this,[[5,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tt(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(V.a)(G.a.mark((function e(t,a){var n,r,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.a.currentSession();case 2:if(n=e.sent,r=new Nt(n),i=t.getName()+"@"+t.getId()+".jsonld",0===t.getMedia().length){e.next=8;break}return e.next=8,vt(t.getMedia());case 8:r.storeRoute(i,t.toJsonLD(),(function(e){a(e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(V.a)(G.a.mark((function e(){var t,a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.a.currentSession();case 2:return t=e.sent,a=new Nt(t),e.next=6,a.findAllRoutes();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e){return It.apply(this,arguments)}function It(){return(It=Object(V.a)(G.a.mark((function e(t){var a,n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.a.currentSession();case 2:return a=e.sent,n=new Nt(a),r=t.getUrl(),e.next=7,n.deleteRoute(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dt={first:!0,routes:[],addRouteToCache:function(e){e&&!this.routes.find((function(t){return e.name===t.name}))&&this.routes.push(e)},getRoutes:function(){var e=this;return Object(V.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.routes.length&&!e.first){t.next=5;break}return t.next=3,Pt();case 3:e.routes=t.sent,e.first=!1;case 5:return t.abrupt("return",e.routes);case 6:case"end":return t.stop()}}),t)})))()},getRouteById:function(e){var t=this;return Object(V.a)(G.a.mark((function a(){var n;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==t.routes.length){a.next=3;break}return a.next=3,t.getRoutes();case 3:if(!(n=t.routes.find((function(t){return t.getId()===e})))){a.next=12;break}return a.next=7,n.calculateElevation();case 7:return a.next=9,new Promise((function(e){return setTimeout(e,1e3)}));case 9:return a.abrupt("return",n);case 12:return a.abrupt("return",-1);case 13:case"end":return a.stop()}}),a)})))()},clear:function(){this.routes=[],this.first=!0}},zt=a(1162),Lt=a(1224),Rt=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;return Object(Y.a)(this,a),(e=t.call(this)).state={loading:!0,routes:[]},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;Dt.getRoutes().then((function(t){e.setState({routes:t,loading:!1}),e.props.toggleBackground()}))}},{key:"render",value:function(){var e=this.state,t=e.routes,a=e.loading;return a?r.a.createElement(zt.a,{style:{color:"#5c5585"},open:a,invisible:!0},r.a.createElement(Lt.a,{color:"inherit",hidden:a})):a||0!==t.length?r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:"auto"},r.a.createElement(f.a,{container:!0,justify:"center",spacing:6},t.map((function(e){return r.a.createElement(f.a,{key:e.getId(),item:!0},r.a.createElement(ut,{key:e.getId(),route:e}))}))))):r.a.createElement("div",{style:{textAlign:"center",marginTop:"15rem",marginBottom:"15rem"}},r.a.createElement(v.a,{variant:"h6"},"You don't have any routes yet."),r.a.createElement(v.a,{variant:"h6"},"Want to ",r.a.createElement(g.a,{style:{color:"#94E8B4"},href:"#/create-route"},"create")," some?"))}}]),a}(n.Component);function Ft(){var e=Mt();return r.a.createElement("div",null,r.a.createElement(f.a,{container:!0,component:"main",className:e.root},r.a.createElement(Te.a,null),r.a.createElement(f.a,{item:!0,xs:!1,sm:12,md:12,className:e.image},r.a.createElement(f.a,{container:!0,spacing:0},r.a.createElement(f.a,{item:!0,sm:12,md:12},r.a.createElement(v.a,{className:e.text},"Your routes,")),r.a.createElement(f.a,{item:!0,sm:12,md:12},r.a.createElement(v.a,{className:e.text2},"your rules."))))))}var Mt=Object(p.a)((function(e){return{root:{height:"30vw"},image:{backgroundImage:"url(https://source.unsplash.com/collection/9828433/1600x900)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},text:{marginLeft:"4vw",fontSize:"12vw",color:"#ffffff"},text2:{marginLeft:"6.5vw",fontSize:"7vw",color:"#ffffff"}}})),At=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;return Object(Y.a)(this,a),(e=t.call(this)).toggleBackground=function(){e.setState({hidden:!1})},e.state={hidden:!0},e}return Object(_.a)(a,[{key:"render",value:function(){var e=this.state.hidden;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ne,null)),r.a.createElement(f.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(f.a,{item:!0,hidden:e},r.a.createElement(Ft,null)),r.a.createElement(f.a,{item:!0,style:{maxWidth:"75rem"}},r.a.createElement(Rt,{toggleBackground:this.toggleBackground})),r.a.createElement(f.a,{item:!0,sm:12,md:12,style:{marginTop:"10rem"},hidden:e},r.a.createElement(Ae,null))))}}]),a}(n.Component),Gt=a(1225),Vt=a(1253),Jt=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(e){var n;return Object(Y.a)(this,a),(n=t.call(this,e)).points=n.props.route.getTrackPoints().map((function(e){return[e.getLatitude(),e.getLongitude()]})),n.list=n.props.route.getTrackPoints(),n.markers=[n.list[0],n.list[n.list.length-1]],n}return Object(_.a)(a,[{key:"render",value:function(){return r.a.createElement(rt.a,{id:"mapdetails",bounds:this.points,zoom:16,height:5},r.a.createElement(it.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(ot.a,{positions:this.points,color:"blue"}),this.markers.map((function(e){return r.a.createElement(Gt.a,{key:e.getLatitude()+","+e.getLongitude(),position:[e.getLatitude(),e.getLongitude()]},r.a.createElement(Vt.a,null,r.a.createElement("p",null,"Latitude: ",e.getLatitude()),r.a.createElement("p",null,"Longitude: ",e.getLongitude()),r.a.createElement("p",null,"Elevation: ",parseInt(e.getElevation(),10))))})))}}]),a}(n.Component),Ut=a(563),Yt=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(e){var n;return Object(Y.a)(this,a),(n=t.call(this,e)).state={points:e.trackpoints},n.init(n.state.points),n}return Object(_.a)(a,[{key:"init",value:function(e){var t=1;this.data={labels:e.map((function(e){return"Point ".concat(t++)})),datasets:[{label:"Elevation",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#44dba1",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#302c58",pointBackgroundColor:"#302c58",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"#302c58",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:15,data:e.map((function(e){return parseInt(e.getElevation(),10)}))}]},this.lineOptions={legend:{display:!1},tooltips:{enabled:!0}}}},{key:"render",value:function(){return r.a.createElement(Ut.a,{data:this.data,options:this.lineOptions,height:100})}}]),a}(n.Component),_t=a(1242),Ht=a(1209),qt=a(1212),Xt=a(1213),Zt=a(1214),Kt=a(1226),Qt=a(1215),$t=a(565),ea=a.n($t),ta=a(566),aa=a.n(ta),na=(a(1118),aa()(ea.a)),ra=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(e){var n;return Object(Y.a)(this,a),(n=t.call(this,e)).state={photos:n.props.photos},n.media=[],n.state.photos.forEach((function(e){n.media.push({source:e.getUrl()})})),n}return Object(_.a)(a,[{key:"render",value:function(){return r.a.createElement(na,{play:!0,cancelOnInteraction:!1,interval:6e3,media:this.media})}}]),a}(n.Component),ia=a(573),oa=a.n(ia),ca=a(567),la=a.n(ca),sa=a(568),ua=a.n(sa),ma=a(569),pa=a.n(ma),da=a(570),ha=a.n(da),fa=a(571),ga=a.n(fa),va=a(574),Ea=a.n(va),ba=Object(p.a)((function(e){return{root:{flexGrow:1,marginTop:e.spacing(-15)},maplogo:{height:"2rem",width:"2rem",marginRight:e.spacing(1)},mapTitle:{marginTop:e.spacing(5),marginLeft:e.spacing(15)},map:{height:"20rem",maxWidth:"40rem",marginTop:e.spacing(2),marginLeft:e.spacing(15)},chart:{maxWidth:"40rem",marginTop:e.spacing(2),marginLeft:e.spacing(15)},elevationlogo:{height:"2rem",width:"2rem",marginRight:e.spacing(1)},elevationTitle:{marginTop:e.spacing(8),marginLeft:e.spacing(15)},title:{marginLeft:e.spacing(15)},cameralogo:{height:"2rem",width:"2rem",marginRight:e.spacing(1)},carouselTitle:{marginTop:e.spacing(17)},carousel:{height:"23rem",width:"33rem",marginTop:e.spacing(2)},data:{width:"33rem",marginTop:e.spacing(2)},datalogo:{height:"2rem",width:"2rem",marginRight:e.spacing(1)},dataTitle:{marginTop:e.spacing(3)},backBtn:{margin:e.spacing(3)},deleteBtn:{margin:e.spacing(3),backgroundColor:"#000000",color:e.palette.secondary.light},cameraRetrologo:{height:"10rem",width:"10rem"},defaultGallery:{marginTop:e.spacing(6)}}}));var ya=Object(l.g)((function(e){var t=ba(),a=Object(n.useState)(!1),i=Object(E.a)(a,2),o=i[0],c=i[1];if(null===e.route)return null;var l=e.route,s=l.getName(),u=l.getAuthor()||"you",p=l.getDate()||"--",d=l.getDescription()||"--",h=l.getDistance()||"--";"--"!==p&&(p=p.toLocaleDateString()),"--"!==h&&(h=h>1e3?(h/1e3).toFixed(1)+" km":h.toFixed(0)+" m");var g=l.getMedia(),b=function(){c(!1)};function y(){return(y=Object(V.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Dt.clear(),t.next=3,Wt(l);case 3:e.history.push("/dashboard");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",{style:{alignItems:"left"}},r.a.createElement(_t.a,{title:"Back","aria-label":"back",className:t.backBtn},r.a.createElement(Ht.a,{size:"small",href:"#/dashboard"},r.a.createElement(oa.a,null)))),r.a.createElement("div",{style:{alignItems:"right"}},r.a.createElement(_t.a,{title:"Delete route","aria-label":"back"},r.a.createElement(Ht.a,{size:"small",className:t.deleteBtn,onClick:function(){c(!0)}},r.a.createElement(Ea.a,null)))),r.a.createElement(qt.a,{open:o,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Xt.a,{id:"alert-dialog-title"},"Delete route ".concat(s,"?")),r.a.createElement(Zt.a,null,r.a.createElement(Kt.a,{id:"alert-dialog-description"},"The route will be permanently deleted from your Solid POD.")),r.a.createElement(Qt.a,null,r.a.createElement(m.a,{onClick:b,color:"primary"},"Cancel"),r.a.createElement(m.a,{onClick:function(){return function(){return y.apply(this,arguments)}()},color:"primary",autoFocus:!0},"Delete"))),r.a.createElement(f.a,{container:!0,className:t.root,spacing:3},r.a.createElement(f.a,{item:!0,xs:!0,sm:6},r.a.createElement(f.a,{item:!0,className:t.title},r.a.createElement(Ue.a,{fontStyle:"italic",fontSize:"h3.fontSize",fontWeight:"fontWeightBold"},s),r.a.createElement(v.a,{color:"textSecondary",variant:"h6"},"by ",u)),r.a.createElement(f.a,{item:!0},r.a.createElement(f.a,{className:t.mapTitle,container:!0,item:!0},r.a.createElement("img",{src:ua.a,alt:"Map logo",className:t.maplogo}),r.a.createElement(Ue.a,{fontSize:"h5.fontSize",fontWeight:"fontWeightBold"},"Map")),r.a.createElement(qe.a,{variant:"outlined",className:t.map},r.a.createElement(Jt,{route:l}))),r.a.createElement(f.a,{item:!0},r.a.createElement(f.a,{className:t.elevationTitle,container:!0,item:!0},r.a.createElement("img",{src:pa.a,alt:"Elevation logo",className:t.elevationlogo}),r.a.createElement(Ue.a,{fontSize:"h5.fontSize",fontWeight:"fontWeightBold"},"Elevation")),r.a.createElement(f.a,{item:!0,className:t.chart},r.a.createElement(Yt,{trackpoints:l.getTrackPoints()})))),r.a.createElement(f.a,{item:!0,xs:!0,sm:4},r.a.createElement(f.a,{item:!0},r.a.createElement(f.a,{className:t.carouselTitle,container:!0,item:!0},r.a.createElement("img",{src:la.a,alt:"Camera logo",className:t.cameralogo}),r.a.createElement(Ue.a,{fontSize:"h5.fontSize",fontWeight:"fontWeightBold"},"Gallery")),r.a.createElement(qe.a,{elevation:0,className:t.carousel},0!==g.length?r.a.createElement(ra,{photos:g}):r.a.createElement("div",{style:{textAlign:"center"},className:t.defaultGallery},r.a.createElement("img",{src:ga.a,alt:"Camera retro logo",className:t.cameraRetrologo}),r.a.createElement(v.a,{variant:"h6"},"You don't have any photos or videos")))),r.a.createElement(f.a,{item:!0},r.a.createElement(f.a,{className:t.dataTitle,container:!0,item:!0},r.a.createElement("img",{src:ha.a,alt:"Map logo",className:t.datalogo}),r.a.createElement(Ue.a,{fontSize:"h5.fontSize",fontWeight:"fontWeightBold"},"Info")),r.a.createElement(qe.a,{variant:"outlined",className:t.data},r.a.createElement(nt.a,null,r.a.createElement(f.a,{container:!0,spacing:3},r.a.createElement(f.a,{item:!0,container:!0,spacing:3},r.a.createElement(f.a,{item:!0},r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightBold"},"Date"),r.a.createElement(Ue.a,{fontSize:"fontSize",fontWeight:"fontWeightRegular"},p)),r.a.createElement(f.a,{item:!0},r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightBold"},"Distance"),r.a.createElement(Ue.a,{fontSize:"fontSize",fontWeight:"fontWeightRegular"},h))),r.a.createElement(f.a,{item:!0},r.a.createElement(f.a,{item:!0},r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightBold"},"Description"),r.a.createElement(Ue.a,{fontSize:"fontSize",fontWeight:"fontWeightRegular"},d))))))))))})),ka=a(1227),xa=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(e){var n;return Object(Y.a)(this,a),(n=t.call(this,e)).state={myroute:null,id:n.props.match.params.id,loading:!0},n}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;Dt.getRouteById(this.state.id).then((function(t){-1!==t?e.setState({myroute:t,loading:!1}):e.props.history.push("/404")}))}},{key:"render",value:function(){var e=this.state.myroute;return this.state.loading?r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(ka.a,null),r.a.createElement(v.a,{variant:"h5"},"Loading your route...")):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ne,null)),r.a.createElement("div",null,r.a.createElement(ya,{route:e})))}}]),a}(n.Component),wa=a(20),Oa=a(181),ja=a(1247),Sa=a(1229),Na=a(1241),Ta=a(1236),Ca=a(597),Pa=a(1228),Ba=a(62),Wa=a(1235),Ia=a(231),Da=a.n(Ia),za=a(575),La=a.n(za),Ra=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;Object(Y.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDateChange=function(t){e.props.handleDateChange(t)},e.next=function(t){t.preventDefault(),e.props.handleNext()},e.handleMediaChange=function(t,a){e.props.handleMediaChange(t,a)},e}return Object(_.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=t.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h6",gutterBottom:!0},"Please, introduce the following data for your new route"),r.a.createElement("form",{onSubmit:this.next},r.a.createElement(f.a,{container:!0,spacing:3},r.a.createElement(f.a,{item:!0,xs:12,sm:6,style:{marginTop:16}},r.a.createElement(Ta.a,{required:!0,id:"name",name:"name",label:"Name",fullWidth:!0,defaultValue:a.name,autoComplete:"routename",onChange:n("name")})),r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement(Ba.a,{utils:Ca.a},r.a.createElement(Wa.a,{disableToolbar:!0,required:!0,variant:"inline",id:"date",name:"date",format:"MM/dd/yyyy",margin:"normal",label:"Date",value:a.date,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"date"}}))),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(Ta.a,{id:"description",name:"description",label:"Description",multiline:!0,fullWidth:!0,defaultValue:a.description,rows:"4",variant:"outlined",onChange:n("description")})),r.a.createElement(f.a,{item:!0,xs:12,sm:3},r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"media-photo",multiple:!0,defaultValue:a.photos,type:"file",onChange:function(t){return e.handleMediaChange(t.target.files,0)}}),r.a.createElement("label",{htmlFor:"media-photo"},r.a.createElement(m.a,{variant:"contained",color:"default",component:"span",startIcon:r.a.createElement(La.a,null)},"Photos"))),r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement("input",{accept:"video/*",style:{display:"none"},id:"media-video",multiple:!0,defaultValue:a.videos,type:"file",onChange:function(t){return e.handleMediaChange(t.target.files,1)}}),r.a.createElement("label",{htmlFor:"media-video"},r.a.createElement(m.a,{variant:"contained",color:"default",component:"span",startIcon:r.a.createElement(Da.a,null)},"Videos"))),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(Pa.a,{id:"my-helper-text"},"Fields marked with (*) are mandatory.")),r.a.createElement(m.a,{id:"btn-next",variant:"contained",color:"primary",style:{marginTop:12,marginLeft:"auto"},type:"submit"},"Next"))))}}]),a}(n.Component),Fa=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;Object(Y.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).next=function(t){t.preventDefault(),e.props.createRoute(),e.props.handleNext()},e.back=function(t){t.preventDefault(),e.props.handleBack()},e}return Object(_.a)(a,[{key:"getPointsText",value:function(e){var t="";return e.forEach((function(e){return t+="Lat: "+e.lat+"\tLong: "+e.lng+"\n"})),t}},{key:"render",value:function(){var e=this.props.values,t=e.date.getUTCMonth()+1+"/"+e.date.getUTCDate()+"/"+e.date.getUTCFullYear();return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h6",gutterBottom:!0},"Please, review all the data"),r.a.createElement(f.a,{container:!0,spacing:3},r.a.createElement(f.a,{item:!0,xs:12,sm:6,style:{marginTop:16}},r.a.createElement(Ta.a,{disabled:!0,id:"name",name:"name",label:"Name",fullWidth:!0,defaultValue:e.name,variant:"filled"})),r.a.createElement(f.a,{item:!0,xs:12,sm:6,style:{marginTop:16}},r.a.createElement(Ta.a,{disabled:!0,id:"date",name:"date",label:"Date",fullWidth:!0,defaultValue:t,variant:"filled"})),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(Ta.a,{disabled:!0,id:"description",name:"description",label:"Description",multiline:!0,fullWidth:!0,defaultValue:e.description,rows:"4",variant:"filled"})),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(Ta.a,{disabled:!0,id:"mapPoint",name:"mapPoint",label:"Track Points",multiline:!0,fullWidth:!0,defaultValue:this.getPointsText(e.points),rows:"4",variant:"filled"}))),r.a.createElement(f.a,{container:!0,spacing:3,style:{marginTop:12}},r.a.createElement(m.a,{variant:"contained",color:"default",style:{marginTop:12,marginLeft:"1vh"},onClick:this.back},"Back"),r.a.createElement(m.a,{id:"btn-next",variant:"contained",color:"primary",style:{marginTop:12,marginLeft:"auto"},onClick:this.next},"Next"))))}}]),a}(n.Component),Ma=a(599),Aa=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;return Object(Y.a)(this,a),(e=t.call(this)).addPoint=function(t){e.state.points.push(t.latlng);var a=e.state.points;e.setState({points:a.slice()}),!0===e.firstPoint&&(e.props.openNotif("You can move a point by dragging it and delete it just clicking on it."),e.firstPoint=!1)},e.updatePoint=function(t){var a=t.target.options.marker_index,n=t.target.getLatLng();e.updatePointById(a,n)},e.updatePointById=function(t,a){var n=e.state.points;n[t]=a,e.setState({points:n.slice()})},e.removePoint=function(t){var a=t.target.options.marker_index;e.removePointById(a)},e.removePointById=function(t){var a=e.state.points;a.splice(t,1),e.setState({points:a.slice()})},e.state={points:[]},e.firstPoint=!0,e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){this.setState({points:[]})}},{key:"getTrackPoints",value:function(){return this.state.points.slice()}},{key:"render",value:function(){var e=this,t=this.state.points;return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt.a,{"data-testid":"test-map-leaflet",id:"test-map-leaflet",center:[43.3619145,-5.8493887],zoom:12,style:{width:"34.5rem",height:"20rem"},onClick:this.addPoint},r.a.createElement(it.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(ot.a,{positions:t,color:"#09012f"}),t.map((function(t,a){return r.a.createElement(Gt.a,{key:a,marker_index:a,position:t,draggable:!0,ondrag:e.updatePoint,onclick:e.removePoint})})),r.a.createElement(Ma.a,{position:"topleft",provider:"OpenStreetMap"})))}}]),a}(n.Component),Ga=a(229),Va=a.n(Ga),Ja=a(576),Ua=a.n(Ja),Ya=a(577),_a=a.n(Ya),Ha=a(578),qa=a.n(Ha);function Xa(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Va.a,{style:{marginBottom:"0.5rem"}})),r.a.createElement("div",{style:{marginBottom:"0.5rem"}},e.text))}function Za(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ua.a,{style:{marginBottom:"0.5rem"}})),r.a.createElement("div",{style:{marginBottom:"0.5rem"}},e.text))}function Ka(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(_a.a,{style:{marginBottom:"0.5rem"}})),r.a.createElement("div",{style:{marginBottom:"0.5rem"}},e.text))}function Qa(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(qa.a,{style:{marginBottom:"0.5rem"}})),r.a.createElement("div",{style:{marginBottom:"0.5rem"}},e.text))}var $a=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;return Object(Y.a)(this,a),(e=t.call(this)).next=function(t){t.preventDefault(),"undefined"!==e.points.current.getTrackPoints()&&0!==e.points.current.getTrackPoints().length?(e.props.handleMapPoints(e.points.current.getTrackPoints()),e.props.handleNext()):Ot.c.warn(r.a.createElement(Xa,{text:"Please, select at least one track point to continue."}))},e.back=function(t){t.preventDefault(),e.props.handleBack()},e.openNotif=function(e){Ot.c.info(r.a.createElement(Za,{text:e}))},e.closeNotif=function(){e.setState({open:!1})},e.points=r.a.createRef(),e}return Object(_.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h6",gutterBottom:!0},"Click on the map to add trackpoints to your route"),r.a.createElement("form",{onSubmit:this.next},r.a.createElement(Aa,{ref:this.points,openNotif:this.openNotif}),r.a.createElement(f.a,{container:!0,spacing:3,style:{marginTop:12}},r.a.createElement(m.a,{variant:"contained",color:"default",style:{marginTop:12,marginLeft:"1vh"},type:"submit",onClick:this.back},"Back"),r.a.createElement(m.a,{id:"btn-next",variant:"contained",color:"primary",style:{marginTop:12,marginLeft:"auto"},type:"submit"},"Next"))))}}]),a}(n.Component),en=a(1211),tn=a(579),an=a.n(tn),nn=a(580),rn=a.n(nn),on=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;Object(Y.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).download=function(t){t.preventDefault(),e.props.handleDownload()},e}return Object(_.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:12,sm:2},r.a.createElement(an.a,{fontSize:"large",style:{fill:"#94E8B4",width:65,height:65}})),r.a.createElement(f.a,null,r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement(v.a,{variant:"h5",gutterBottom:!0},"Route created")),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"subtitle1"},"Don't worry, we are saving your brand new track"))),r.a.createElement(_t.a,{title:"Download",arrow:!0},r.a.createElement(en.a,{variant:"contained",color:"primary",style:{marginLeft:"auto"},onClick:this.download},r.a.createElement(rn.a,{fontSize:"large",style:{fill:"#5c5585"}})))))}}]),a}(n.Component),cn=a(1158),ln=a(581),sn=a.n(ln),un=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(){var e;return Object(Y.a)(this,a),(e=t.call(this)).handleNext=function(){var t=e.state.activeStep;e.setState({activeStep:t+1})},e.handleBack=function(){var t=e.state.activeStep;e.setState({activeStep:t-1})},e.handleChange=function(t){return function(a){e.setState(Object(wa.a)({},t,a.target.value))}},e.handleDateChange=function(t){e.setState({date:t})},e.handleMediaChange=function(t,a){switch(a){case 0:e.setState({photos:t});break;case 1:e.setState({videos:t});break;default:alert("Invalid media code!! "+a)}},e.handleMapPoints=function(t){e.setState({points:t})},e.handleDownload=function(){var t=e.route.toJsonLD(),a=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(a),r=document.createElement("a");r.download=e.route.getName()+".json",r.href=n,r.click()},e.createRoute=function(){var t=e.state,a=t.name,n=t.description,r=t.date,i=t.photos,o=t.videos,c=t.points,l=[];Array.from(i).forEach((function(e){return l.push(e)})),Array.from(o).forEach((function(e){return l.push(e)})),e.route=new gt(a,n,c,null,l,r,null),e.route.calculateElevation(),e.upload(e.route).then((function(t){return e.checkSuccessCode(t)}))},e.route=null,e.state={activeStep:0,name:"",description:"",date:new Date,photos:[],videos:[],points:[]},e}return Object(_.a)(a,[{key:"upload",value:function(e){return Dt.clear(),Dt.addRouteToCache(e),new Promise((function(t){Tt(e,(function(e){return t(e)}))}))}},{key:"checkSuccessCode",value:function(e){switch(e){case-1:Ot.c.error(r.a.createElement(Ka,{text:"There was an error during this operation."}));break;case 0:Ot.c.success(r.a.createElement(Qa,{text:"Your route was successfully saved."}));break;default:throw new Error("Unknown Success Code "+e)}}},{key:"render",value:function(){var e=this.state.activeStep,t=this.state,a={activeStep:e,name:t.name,description:t.description,date:t.date,photos:t.photos,videos:t.videos,points:t.points},n=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,null),r.a.createElement(f.a,{container:!0,className:n.background},r.a.createElement(f.a,{item:!0,xs:!1,sm:12,md:12,className:n.image},r.a.createElement("main",{className:n.layout},r.a.createElement(Oa.a,{className:n.paper},r.a.createElement("img",{alt:"NewRouteForm logo",src:sn.a,className:n.avatar}),r.a.createElement(v.a,{component:"h1",variant:"h4",align:"center"},"Create your own route"),r.a.createElement(ja.a,{activeStep:e,className:n.stepper},mn.map((function(e){return r.a.createElement(Sa.a,{key:e},r.a.createElement(Na.a,null,e))}))),r.a.createElement(r.a.Fragment,null,function(e,t,a,n,i,o,c,l,s,u){switch(e){case 0:return r.a.createElement(Ra,{handleNext:a,handleChange:i,handleDateChange:o,handleMediaChange:c,values:t});case 1:return r.a.createElement($a,{handleNext:a,handleBack:n,handleMapPoints:l,values:t});case 2:return r.a.createElement(Fa,{handleNext:a,handleBack:n,values:t,createRoute:u});case 3:return r.a.createElement(on,{handleDownload:s});default:throw new Error("Unknown step "+e)}}(e,a,this.handleNext,this.handleBack,this.handleChange,this.handleDateChange,this.handleMediaChange,this.handleMapPoints,this.handleDownload,this.createRoute))))),r.a.createElement(f.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(Ae,null))))}}]),a}(n.Component),mn=["Basic data","Map","Review your route"];var pn=Object(cn.a)((function(e){return{layout:Object(wa.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(wa.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},avatar:{marginLeft:"45%",marginRight:"45%",height:"3.5rem",width:"3.5rem"},icon:{width:65,height:65},grid:{marginLeft:e.spacing(2)},background:{},image:{backgroundImage:"url(https://source.unsplash.com/collection/9847024/1600x900)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",minHeight:"90vh"}}}))(un),dn=a(1230),hn=a(1231),fn=a(235),gn=a.n(fn),vn=a(6);var En=Object(p.a)((function(e){return{root:{display:"flex",marginTop:e.spacing(5)},details:{display:"flex",flexDirection:"column",width:e.spacing(50)},content:{flex:"1 0 auto"},title:{martinTop:e.spacing(5)},cover:{width:e.spacing(30),marinLeft:"auto"},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),bn=function(e){var t=En(),a=e.route,n=r.a.useState(!1),i=Object(E.a)(n,2),o=i[0],c=i[1];return r.a.createElement("div",null,r.a.createElement(qe.a,{elevation:4,className:t.root},r.a.createElement("div",{className:t.details},r.a.createElement(nt.a,{className:t.content},r.a.createElement(v.a,{className:t.title,component:"h5",variant:"h5"},a.getName())),r.a.createElement(dn.a,{disableSpacing:!0},r.a.createElement(en.a,{"data-testid":"btn-expand-test",className:Object(vn.a)(t.expand,Object(wa.a)({},t.expandOpen,o)),onClick:function(){c(!o)},"aria-expanded":o,"aria-label":"show more"},r.a.createElement(gn.a,null))),r.a.createElement(hn.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(nt.a,null,a.getDescription()?r.a.createElement("div",null,r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightBold"},"Description:"),r.a.createElement(Ue.a,{fontWeight:"fontWeightRegular"},a.getDescription())):r.a.createElement(Ue.a,{fontWeight:"fontWeightRegular"},"No description provided.")))),r.a.createElement(lt.a,{className:t.cover},r.a.createElement(ct,{route:a}))))},yn=a(582);function kn(e,t){try{Object(yn.parseGpx)(e,(function(e,a){var n=[];return a.tracks.forEach((function(e){var t=function(e){var t=function(e){var t=[];return e.segments.forEach((function(e){e.forEach((function(e){t.push(new ft(e.lat,e.lon,parseInt(e.elevation,10)))}))})),t}(e),a=e.name,n=e.description;return new gt(a,n,t,null,null,null,null,null)}(e);n.push(t)})),t(n)}))}catch(a){return[]}}var xn=function(e){Object(ke.a)(a,e);var t=Object(xe.a)(a);function a(e){var n;return Object(Y.a)(this,a),(n=t.call(this,e)).state={files:n.props.location.routes,routes:[]},n}return Object(_.a)(a,[{key:"componentDidMount",value:function(){this.state.files?this.handleFiles():this.props.history.push("/404")}},{key:"handleFiles",value:function(){var e=this,t=/(?:\.([^.]+))?$/;this.state.files.forEach((function(a){var n=new FileReader;n.onerror=function(){return alert("ERROR IMPORTING ROUTE")},n.onabort=function(){return alert("ABORT IMPORTING ROUTE")},n.onload=Object(V.a)(G.a.mark((function r(){var i,o;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=n.result,r.prev=1,".gpx"!==(o=t.exec(a.name)[0])){r.next=7;break}e.handleGPX(i),r.next=10;break;case 7:if(".jsonld"!==o&&".json"!==o){r.next=10;break}return r.next=10,e.handleJSON(i);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),alert(r.t0);case 15:case"end":return r.stop()}}),r,null,[[1,12]])}))),n.readAsText(a)}))}},{key:"handleGPX",value:function(e){var t=this,a=[];if(kn(e,(function(e){e.forEach((function(e){a.push(e)}))})),a.length>0){a.forEach((function(e){t.state.routes.push(e)}));var n=this.state.routes;this.setState({routes:n.slice()})}else 1===this.state.files.length&&this.props.history.push("/404"),Ot.c.error(r.a.createElement(Ka,{text:"Some of your routes couldn't be imported."}),{toastId:"2"})}},{key:"handleJSON",value:function(){var e=Object(V.a)(G.a.mark((function e(t){var a,n,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new kt,e.next=3,a.parseImport(t);case 3:(n=e.sent)?(this.state.routes.push(n),i=this.state.routes,this.setState({routes:i.slice()})):(1===this.state.files.length&&this.props.history.push("/404"),Ot.c.error(r.a.createElement(Ka,{text:"Some of your routes couldn't be imported."})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"upload",value:function(){var e=Object(V.a)(G.a.mark((function e(){var t,a,n=this;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.routes,a=[],t.forEach((function(e){n.uploadRoute(e).then((function(e){a.push(e)}))})),a.includes(-1)?Ot.c.error(r.a.createElement(Ka,{text:"There was an error uploading your routes."})):Ot.c.success(r.a.createElement(Qa,{text:"Your routes were successfully saved."})),e.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:this.props.history.push("/dashboard");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadRoute",value:function(e){return Dt.clear(),Dt.addRouteToCache(e),new Promise((function(t){Tt(e,(function(e){return t(e)}))}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.routes;return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement(f.a,{container:!0,className:t.background},r.a.createElement(f.a,{item:!0,xs:!1,sm:12,md:12,className:t.image},r.a.createElement("main",{className:t.layout},r.a.createElement(Oa.a,{className:t.paper},r.a.createElement(v.a,{component:"h1",variant:"h4",align:"center"},"Please, review your routes"),a.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(bn,{route:e}))})),r.a.createElement("div",{className:t.btnArea},r.a.createElement(m.a,{"data-testid":"btn-test-accept",onClick:function(){return e.upload()},className:t.btn,color:"primary",variant:"contained"},"Accept"))))),r.a.createElement(f.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(Ae,null))))}}]),a}(n.Component),wn=Object(N.a)((function(e){return{layout:Object(wa.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(wa.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),btn:{marginTop:e.spacing(5)},btnArea:{textAlign:"center"},image:{backgroundImage:"url(https://source.unsplash.com/collection/9992041/1600x900)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",minHeight:"90vh"}}}))(xn),On=a(1238),jn=a(1232);function Sn(){var e=Nn(),t=Object(n.useState)(""),a=Object(E.a)(t,2),i=a[0],o=a[1];X().then((function(e){o(e)}));var c=Object(n.useState)(0),l=Object(E.a)(c,2),s=l[0],u=l[1];return K().then((function(e){u(e)})),r.a.createElement("div",{className:e.root},r.a.createElement(Ne,null),r.a.createElement(Te.a,null),r.a.createElement(We.a,{component:"main",className:e.main,maxWidth:"md"},r.a.createElement(v.a,{variant:"h3"},"Your Profile"),r.a.createElement(Oa.a,{elevation:0,className:e.paper},r.a.createElement(On.a,{value:0,indicatorColor:"primary",textColor:"primary"},r.a.createElement(jn.a,{label:"General"}),r.a.createElement(jn.a,{label:"Friends",href:"#/profile/friends"}),r.a.createElement(jn.a,{label:"Groups",href:"#/profile/groups"}))),r.a.createElement(qe.a,{className:e.card,variant:"outlined"},r.a.createElement(nt.a,null,r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0},r.a.createElement(D.a,{alt:"Profile photo",src:i,className:e.photo})),r.a.createElement(Ce.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{className:e.name,variant:"h3"},r.a.createElement(z.a,{src:"user.name"})))))),r.a.createElement(qe.a,{className:e.card,variant:"outlined"},r.a.createElement(nt.a,null,r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{variant:"subtitle1"},"Need to change anything?")),r.a.createElement(v.a,{variant:"subtitle1",className:e.link1},"Go to your ",r.a.createElement(g.a,{style:{color:"#7c4dff"},target:"_blank",href:s},"Solid account"))))),r.a.createElement(qe.a,{className:e.card,variant:"outlined"},r.a.createElement(nt.a,null,r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{variant:"subtitle1"},"Or you can also ",r.a.createElement(g.a,{style:{color:"#8693E3"},href:"",onClick:function(){return ue()}},"sign out"),".")))))),r.a.createElement(Ae,null))}var Nn=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},paper:{borderBottom:"1px solid #e8e8e8",marginTop:e.spacing(2),backgroundColor:"#fafafa",width:"100%"},card:{marginTop:e.spacing(5)},photo:{width:e.spacing(23),height:e.spacing(23),margin:e.spacing(3)},name:{margin:e.spacing(12)},link1:{marginLeft:e.spacing(5),color:e.palette.secondary.dark}}})),Tn=a(1233),Cn={name:"",webId:null,friends:[],getName:function(){return this.name},loadName:function(){var e=this;return Object(V.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.name.length){t.next=4;break}return t.next=3,(Object(J.a)("user.name")||"unknown").value;case 3:e.name=t.sent;case 4:case"end":return t.stop()}}),t)})))()},getWebId:function(){return this.webId},loadWebId:function(){var e=this;return Object(V.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.webId){t.next=4;break}return t.next=3,K();case 3:e.webId=t.sent;case 4:case"end":return t.stop()}}),t)})))()},getFriends:function(){return this.friends},loadFriends:function(){var e=this;return Object(V.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.friends.length){t.next=4;break}return t.next=3,$().then((function(e){return e}));case 3:e.friends=t.sent;case 4:case"end":return t.stop()}}),t)})))()},clearFriends:function(){this.friends=[]}},Pn=a(583),Bn=a.n(Pn);function Wn(){var e=zn();return r.a.createElement("div",{className:e.root},r.a.createElement(Ne,null),r.a.createElement(Te.a,null),r.a.createElement(We.a,{component:"main",className:e.main,maxWidth:"md"},r.a.createElement(v.a,{variant:"h3"},"Your Friends"),r.a.createElement(Oa.a,{elevation:0,className:e.paper},r.a.createElement(On.a,{value:1,indicatorColor:"primary",textColor:"primary"},r.a.createElement(jn.a,{selected:!1,label:"General",href:"#/profile"}),r.a.createElement(jn.a,{selected:!0,label:"Friends",href:"#/profile/friends"}),r.a.createElement(jn.a,{label:"Groups",href:"#/profile/groups"}))),r.a.createElement(In,null)),r.a.createElement(Ae,null))}function In(){var e=zn(),t=Object(n.useState)(0),a=Object(E.a)(t,2),i=a[0],o=a[1];K().then((function(e){o(e)}));var c=Object(n.useState)([]),l=Object(E.a)(c,2),s=l[0],u=l[1];return Object(n.useEffect)((function(){var e=Cn.getFriends();u(e)}),[]),s.length?r.a.createElement(f.a,{container:!0,spacing:2,alignItems:"center",justify:"center",className:e.friends},s.map((function(e,t){return r.a.createElement(f.a,{item:!0,key:t},r.a.createElement(Dn,{friend:e}))}))):r.a.createElement("div",{className:e.friendsList},r.a.createElement(v.a,{variant:"h6"},"Oops, it seems you don't have any friends yet."),r.a.createElement(v.a,{variant:"subtitle1"},"You can add new friends in your ",r.a.createElement(g.a,{style:{color:"#7c4dff"},target:"_blank",href:i},"Solid profile"),"."))}function Dn(e){var t=zn(),a=e.friend,n=a.getPhoto(),i=a.getName(),o=a.getWebId();return r.a.createElement(qe.a,{variant:"outlined",className:t.fCard},r.a.createElement(Tn.a,{avatar:r.a.createElement(D.a,{src:n,className:t.fPhoto}),action:r.a.createElement(en.a,{"aria-label":"go to solid"},r.a.createElement(g.a,{style:{color:"#7c4dff"},target:"_blank",href:o},r.a.createElement(Bn.a,null)))}),r.a.createElement(nt.a,{style:{textAlign:"center"}},r.a.createElement(v.a,{variant:"h6",color:"textSecondary",component:"p"},i)))}var zn=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},paper:{borderBottom:"1px solid #e8e8e8",marginTop:e.spacing(2),backgroundColor:"#fafafa",width:"100%"},friends:{marginTop:e.spacing(5)},fPhoto:{width:e.spacing(13),height:e.spacing(13),marginLeft:"3rem",marginTop:"1rem"},fCard:{display:"block",width:"15rem",height:e.spacing(30)},friendsList:{textAlign:"center",marginTop:e.spacing(7),marginBottom:e.spacing(50)}}})),Ln=a(157),Rn=a(586),Fn=a.n(Rn),Mn=a(587),An=a.n(Mn),Gn=a(588),Vn=a.n(Gn),Jn=function(){function e(){Object(Y.a)(this,e)}return Object(_.a)(e,null,[{key:"getIdentityProviders",value:function(){return[{id:"inrupt",label:"Inrupt",image:Fn.a,value:"https://inrupt.net/auth",registerLink:"https://inrupt.net/register",description:"Lorem ipsum dolor sit amet non ipsom dolor"},{id:"solid-community",label:"Solid Community",image:An.a,value:"https://solid.community",registerLink:"https://solid.community/register",description:"Lorem ipsum dolor sit non consectetur"},{id:"local-pod-server",label:"Local Server",image:Vn.a,value:"https://localhost:8443",registerLink:"https://localhost:8443/register",description:"Local server"}]}}]),e}(),Un=Object(p.a)((function(e){return{root:{marginTop:e.spacing(20)}}}));function Yn(){var e=Un();return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement(We.a,{component:"main",maxWidth:"sm"},r.a.createElement(qe.a,{className:e.root,elevation:4,style:{minHeight:"15rem"}},r.a.createElement(Te.a,null),r.a.createElement(nt.a,null,r.a.createElement(Ln.ProviderLogin,{className:"solid-provider-login-component",callbackUri:"".concat(window.location.protocol,"//").concat(window.location.host,"/viade_en3b1/#/home"),selectPlaceHolder:"Select your Provider",inputPlaceholder:"Introduza la url de su webId",formButtonText:"Login",btnTxtWebId:"Log In with WebId",btnTxtProvider:"Log In with Provider",errorsText:{unknown:"Something is wrong, please try again...",webIdNotValid:"WebID is not valid",emptyProvider:"Solid Provider is required",emptyWebId:"Valid WebID is required"},providers:Jn.getIdentityProviders()})))))}var _n=a(158),Hn=function(e){var t=Object(Ln.useWebId)(),a=e.component,n=(e.service,Object(_n.a)(e,["component","service"]));return r.a.createElement(l.b,Object.assign({},n,{component:function(e){var n=e.history,i=e.location,o=e.match,c=e.service;e.name;return r.a.createElement("div",null,t?r.a.createElement("div",null,r.a.createElement(a,{history:n,location:i,match:o,service:c})):r.a.createElement("div",null,r.a.createElement(Ye,null)))}}))},qn=function(e){var t=e.component,a=Object(_n.a)(e,["component"]);return r.a.createElement(l.b,Object.assign({},a,{component:function(e){var a=e.history,n=e.location,i=e.match;return r.a.createElement("div",null,r.a.createElement(t,{history:a,location:n,match:i}))}}))},Xn=function(e){var t=e.component,a=Object(_n.a)(e,["component"]);return Object(Ln.useWebId)()?r.a.createElement(l.a,{to:"/"}):r.a.createElement(l.b,Object.assign({},a,{component:function(e){return r.a.createElement("div",null,r.a.createElement(t,e))}}))};function Zn(){return(Zn=Object(V.a)(G.a.mark((function e(t,a){var n,r,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.a.currentSession();case 2:n=e.sent,r=new Nt(n),i=t.getName()+"@"+t.getId()+".jsonld",r.storeGroup(i,t.toJsonLD(),(function(e){a(e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(V.a)(G.a.mark((function e(){var t,a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.a.currentSession();case 2:return t=e.sent,a=new Nt(t),e.next=6,a.findAllGroups();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $n={groups:[],first:!0,getGroups:function(){var e=this;return Object(V.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.groups.length&&!e.first){t.next=5;break}return t.next=3,Kn();case 3:e.groups=t.sent,e.first=!1;case 5:return t.abrupt("return",e.groups);case 6:case"end":return t.stop()}}),t)})))()},addGroup:function(e){this.groups.push(e)},clearGroups:function(){this.first=!0,this.groups=[]}},er=a(589),tr=a.n(er);var ar=Object(p.a)((function(e){return{root:{display:"flex",marginTop:e.spacing(5)},details:{display:"flex",flexDirection:"column",width:e.spacing(50)},content:{flex:"1 0 auto"},title:{martinTop:e.spacing(5)},cover:{width:e.spacing(30),marginLeft:e.spacing(12),marginTop:e.spacing(3)},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),nr=function(e){var t=ar(),a=e.group,n=a.getMembers(),i=r.a.useState(!1),o=Object(E.a)(i,2),c=o[0],l=o[1];return r.a.createElement("div",null,r.a.createElement(qe.a,{elevation:4,className:t.root},r.a.createElement("div",{className:t.details},r.a.createElement(nt.a,{className:t.content},r.a.createElement(v.a,{className:t.title,component:"h5",variant:"h5"},a.getName())),r.a.createElement(dn.a,{disableSpacing:!0},r.a.createElement(en.a,{"data-testid":"btn-expand-test",className:Object(vn.a)(t.expand,Object(wa.a)({},t.expandOpen,c)),onClick:function(){l(!c)},"aria-expanded":c,"aria-label":"show more"},r.a.createElement(gn.a,null))),r.a.createElement(hn.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(nt.a,null,n.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(g.a,{href:e,target:"_blank"},function(e){var t=e;return t=(t=(t=t.replace("https://","")).replace(".solid.community/profile/card#me","")).replace(".inrupt.net/profile/card#me","")}(e)))}))))),r.a.createElement(lt.a,{className:t.cover},r.a.createElement(tr.a,{style:{fontSize:"5rem",fill:"#7c4dff"}}))))};function rr(){var e=cr(),t=Object(n.useState)([]),a=Object(E.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)(!0),l=Object(E.a)(c,2),s=l[0],u=l[1];return Object(n.useEffect)((function(){$n.getGroups().then((function(e){o(e),u(!1)}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(Ne,null),r.a.createElement(Te.a,null),r.a.createElement(We.a,{component:"main",className:e.main,maxWidth:"md"},r.a.createElement(v.a,{variant:"h3"},"Your Groups"),r.a.createElement(Oa.a,{elevation:0,className:e.paper},r.a.createElement(On.a,{value:2,indicatorColor:"primary",textColor:"primary"},r.a.createElement(jn.a,{selected:!1,label:"General",href:"#/profile"}),r.a.createElement(jn.a,{selected:!0,label:"Friends",href:"#/profile/friends"}),r.a.createElement(jn.a,{label:"Groups",href:"#/profile/groups"}))),s?r.a.createElement("div",{style:{height:"30rem"}},r.a.createElement(zt.a,{style:{color:"#5c5585"},open:s,invisible:!0},r.a.createElement(Lt.a,{color:"inherit",hidden:s}))):i.length>0?r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"right",marginTop:"3rem"}},r.a.createElement(m.a,{variant:"outlined",color:"primary",href:"#/profile/groups/create"},"Create New")),r.a.createElement("div",{style:{marginBottom:"10rem"}},r.a.createElement(or,{groups:i}))):r.a.createElement(ir,null)),r.a.createElement(Ae,null))}function ir(){return r.a.createElement("div",{style:{textAlign:"center",marginTop:"15rem",marginBottom:"15rem"}},r.a.createElement(v.a,{variant:"h6"},"You don't have any groups yet."),r.a.createElement(v.a,{variant:"h6"},"Want to ",r.a.createElement(g.a,{style:{color:"#7c4dff"},href:"#/profile/groups/create"},"add")," some?"))}function or(e){var t=e.groups,a=cr();return r.a.createElement(f.a,{item:!0,xs:!1,sm:12,md:12},r.a.createElement("main",{className:a.layout},t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(nr,{group:e}))}))))}var cr=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},paper:{borderBottom:"1px solid #e8e8e8",marginTop:e.spacing(2),backgroundColor:"#fafafa",width:"100%"},layout:Object(wa.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper2:Object(wa.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2),backgroundColor:"#fafafa"},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),friends:{marginTop:e.spacing(5)},fPhoto:{width:e.spacing(13),height:e.spacing(13),marginLeft:"3rem",marginTop:"1rem"},fCard:{display:"block",width:"15rem",height:e.spacing(30)},friendsList:{textAlign:"center",marginTop:e.spacing(7),marginBottom:e.spacing(50)}}})),lr=a(1246),sr=a(1240),ur=a(230),mr=a.n(ur),pr=a(1239),dr=Object(p.a)((function(e){return{root:{minWidth:275,margin:e.spacing(5),marginTop:e.spacing(15)},paper:{marginTop:e.spacing(5),marginBottom:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#7c4dff"},form:{width:"80%",marginTop:e.spacing(1),alignItems:"center",justifyContent:"center"},submit:{margin:e.spacing(1,0,2)},link:{margin:e.spacing(1,0,2)}}}));function hr(){var e=dr(),t=Object(n.useState)(""),a=Object(E.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)([]),l=Object(E.a)(c,2),s=l[0],u=l[1],p=Cn.getFriends(),d=Object(n.useState)(!1),h=Object(E.a)(d,2),g=h[0],b=h[1],y=Object(n.useState)(""),k=Object(E.a)(y,2),x=k[0],w=k[1],O=Object(n.useState)(""),j=Object(E.a)(O,2),S=j[0],N=j[1];function T(e){e.preventDefault();var t=[];s.forEach((function(e){t.push(e.getWebId())}));var a=new xt(i,t);$n.clearGroups(),$n.addGroup(a),new Promise((function(e){!function(e,t){Zn.apply(this,arguments)}(a,(function(t){return e(t)}))})).then((function(e){C(e)}))}var C=function(e){switch(e){case-1:P("Couldn't create your new group","error");break;case 0:P("Your group was successfully saved","success");break;default:throw new Error("Unknown Success Code "+e)}},P=function(e,t){w(e),N(t),b(!0)},B=function(){b(!1)};return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement(lr.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:g,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(en.a,{"aria-label":"close",color:"inherit",onClick:function(){return B()}},r.a.createElement(mr.a,null)))},r.a.createElement(fr,{onClose:function(){return B()},severity:S},x)),r.a.createElement(We.a,{component:"main",maxWidth:"sm"},r.a.createElement(qe.a,{className:e.root,elevation:4},r.a.createElement(Te.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(pe.a,{fontSize:"large",style:{fill:"#7c4dff"}}),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Want a new group of friends?"),r.a.createElement("div",{className:e.form},r.a.createElement("form",{onSubmit:function(e){return T(e)}},r.a.createElement(Ta.a,{required:!0,id:"name",name:"name",label:"Name",fullWidth:!0,defaultValue:i,autoComplete:"routename",onChange:function(e){return o(e.target.value)}}),r.a.createElement("div",{style:{marginTop:"2rem",marginBottom:"2rem"}},r.a.createElement(v.a,{variant:"subtitle1",color:"inherit"},"Select the members of your group:"),r.a.createElement("div",{style:{textAlign:"center"}},p.map((function(e,t){return r.a.createElement(f.a,{key:t,container:!0,style:{textAlign:"center",marginTop:"0.5rem",marginBottom:"0.5rem"}},r.a.createElement(sr.a,{onChange:function(){return function(e){var t=s,a=p[e];if(t.includes(a)){var n=t.indexOf(a);t.splice(n,1)}else t.push(a);u(t)}(t)},color:"primary"}),r.a.createElement(qe.a,{variant:"outlined",style:{width:"18rem"}},r.a.createElement(nt.a,null,r.a.createElement(v.a,null,e.getName()))))})))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(m.a,{"data-testid":"btn-create-group",id:"btn-create-group",variant:"contained",color:"primary",className:e.submit,type:"submit"},"Create"))))))),r.a.createElement(f.a,{item:!0,xs:12,sm:12,md:12,style:{marginTop:"36rem"}},r.a.createElement(Ae,null)))}function fr(e){return r.a.createElement(pr.a,Object.assign({elevation:6,variant:"filled"},e))}var gr=[{title:"What is Solid?",content:"It is an open source project, created by Tim Berners-Lee, that aims to achieve a complete, \n            decentralized web allows users to decide where to store their own data."},{title:"What is a Pod?",content:"A Pod is where data is stored on the Web with Solid. (see quote). A user may store their data in one Pod or several Pods, \n            and applications read and write data into the Pod depending on the authorisations granted by the user or users associated to that Pod."},{title:"Where are my routes saved?",content:"All your routes, as well as the media files associated with them are stored in your own Pod. When you disconnect from our app,\n            no data is stored on our servers."},{title:"Can I store any number of routes in my Pod?",content:"Yes, you can store any number of routes that you want in your Pod. To store a route, you can do it manually in\n            your Pod, or you can use our app to create or even import some."},{title:"My routes doesn't seem to load. Why is that?",content:"If you have a big number of routes associated to your account, you may experience load times bigger than usual. \n            Don't worry about that, if you wait enough, you will be able to see all your routes."},{title:"I can't see all my routes listed. What is the reason?",content:"ViaDeEn3B1's app only works with routes that comply with ViadeSpec's standard. This means that the application can only list \n            JSON-LD routes that are correctly built."},{title:"When I try to import a route, I get an error. Why is that?",content:"You can only import GPX, JSON and JSON-LD routes. Those files may contain some errors, so they get rejected and ignored\n            when trying to import them."},{title:"I can't import my GPX route. Why?",content:"Our GPX-import system is optimized specially for achieving interoperability with Strava's routes. This doesn't mean that\n            you can only import files that come from Strava, but you may encounter some problems if your GPX file has an strange internal structure."}];function vr(){return r.a.createElement("div",null,r.a.createElement(Ue.a,{fontSize:"h4.fontSize",fontWeight:"fontWeightBold"},"Frequently asked questions (FAQ)"),r.a.createElement("div",null,gr.map((function(e){return r.a.createElement("div",{style:{marginTop:"2rem"}},r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightMedium"},e.title),r.a.createElement(Ue.a,null,e.content))}))))}var Er=a(590),br=a.n(Er);function yr(){var e=kr();return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement(We.a,{component:"main",className:e.main,maxWidth:"md"},r.a.createElement("img",{alt:"Help Support",src:br.a}),r.a.createElement(vr,null)),r.a.createElement(Ae,null))}var kr=Object(p.a)((function(e){return{main:{marginTop:e.spacing(3),marginBottom:e.spacing(8)}}})),xr=a(591),wr=a.n(xr),Or=a(592),jr=a.n(Or),Sr=a(593),Nr=a.n(Sr),Tr=a(594),Cr=a.n(Tr),Pr=a(595),Br=a.n(Pr);function Wr(){var e=Ir();return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement(f.a,{item:!0,xs:!1,sm:12,md:12,className:e.image},r.a.createElement(v.a,{align:"center",className:e.text},"ViaDe En3B1")),r.a.createElement(We.a,{component:"main",className:e.main,maxWidth:"md"},r.a.createElement(f.a,{container:!0,spacing:10},r.a.createElement(f.a,{item:!0,xs:6},r.a.createElement("img",{alt:"map about",src:Cr.a,style:{height:"27rem",width:"27rem"}})),r.a.createElement(f.a,{item:!0,xs:6,className:e.point},r.a.createElement(Ue.a,{fontSize:"h4.fontSize",fontWeight:"fontWeightBold"},"What is ViaDe?"),r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightRegular"},"It is the first routes management system based on SOLID technology. It has been developed as part of the ",r.a.createElement(g.a,{style:{color:"#27DEBF"},target:"_blank",href:"https://arquisoft.github.io/"},"Software Architecture")," course at UniOvi."))),r.a.createElement(f.a,{container:!0,spacing:10},r.a.createElement(f.a,{item:!0,xs:6,className:e.point},r.a.createElement(Ue.a,{fontSize:"h4.fontSize",fontWeight:"fontWeightBold"},"Do you need to get somewhere?"),r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightRegular"},"With ViaDe, you can create or import any route you want so you can store them and check on them at any moment. You can learn more ",r.a.createElement(g.a,{style:{color:"#27DEBF"},href:"#/help"},"here"),".")),r.a.createElement(f.a,{item:!0,xs:5},r.a.createElement("img",{alt:"map about",src:wr.a,style:{height:"27rem",width:"27rem"}}))),r.a.createElement(f.a,{container:!0,spacing:10},r.a.createElement(f.a,{item:!0,xs:6},r.a.createElement("img",{alt:"map about",src:Br.a,style:{height:"27rem",width:"27rem"}})),r.a.createElement(f.a,{item:!0,xs:6,className:e.point},r.a.createElement(Ue.a,{fontSize:"h4.fontSize",fontWeight:"fontWeightBold"},"Your data? Easy."),r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightRegular"},"All your routes are stored in your personal Pod. Also, we don't keep any personal information, so you can be calm about your data."))),r.a.createElement(f.a,{container:!0,spacing:10},r.a.createElement(f.a,{item:!0,xs:6,className:e.point},r.a.createElement(Ue.a,{fontSize:"h4.fontSize",fontWeight:"fontWeightBold"},"Interoperability"),r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightRegular"},"ViaDe En3B1 is interoperable with other ViaDe apps. This means that you can check your routes in other applications, as well as creating new ones. You can try it, it's awesome!")),r.a.createElement(f.a,{item:!0,xs:5},r.a.createElement("img",{alt:"map about",src:jr.a,style:{height:"27rem",width:"27rem"}}))),r.a.createElement(f.a,{container:!0,spacing:10},r.a.createElement(f.a,{item:!0,xs:6},r.a.createElement("img",{alt:"map about",src:Nr.a,style:{height:"27rem",width:"27rem"}})),r.a.createElement(f.a,{item:!0,xs:6,className:e.point},r.a.createElement(Ue.a,{fontSize:"h4.fontSize",fontWeight:"fontWeightBold"},"Hi! I'm Pablo."),r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightRegular"},"I am the developer behind ViaDe En3B1."),r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightRegular"},"At the moment, I am a Software Engineering student at UniOvi. When I'm not programming, I enjoy photography, running and movies."),r.a.createElement(Ue.a,{fontSize:"h6.fontSize",fontWeight:"fontWeightRegular"},"You can contact me on ",r.a.createElement(g.a,{target:"_blank",style:{color:"#27DEBF"},href:"https://www.linkedin.com/in/pablocanalsuarez/"},"LinkedIn"),", ",r.a.createElement(g.a,{style:{color:"#27DEBF"},target:"_blank",href:"https://github.com/PabloCanalSuarez"},"GitHub")," or by ",r.a.createElement(g.a,{style:{color:"#27DEBF"},href:"mailto:uo264903@uniovi.es"},"Email"),".")))),r.a.createElement(Ae,null))}var Ir=Object(p.a)((function(e){return{main:{marginTop:e.spacing(8),marginBottom:e.spacing(8)},text:{fontSize:"12vw",color:"#000000"},image:{backgroundRepeat:"no-repeat",backgroundColor:"#27DEBF",backgroundSize:"cover",backgroundPosition:"center",height:"20vw"},point:{marginTop:e.spacing(15)}}})),Dr=function(){return r.a.createElement(c.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(l.d,null,r.a.createElement(qn,{exact:!0,path:"/404",component:Ye}),r.a.createElement(qn,{exact:!0,path:"/help",component:yr}),r.a.createElement(qn,{exact:!0,path:"/about",component:Wr}),r.a.createElement(l.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(qn,{exact:!0,path:"/home",component:Ge}),r.a.createElement(Hn,{exact:!0,path:"/dashboard",component:At}),r.a.createElement(Xn,{exact:!0,path:"/register",component:at}),r.a.createElement(Xn,{exact:!0,path:"/login",component:Yn}),r.a.createElement(Hn,{exact:!0,path:"/create-route",component:pn}),r.a.createElement(Hn,{exact:!0,path:"/import-route",component:wn}),r.a.createElement(Hn,{exact:!0,path:"/profile",component:Sn}),r.a.createElement(Hn,{exact:!0,path:"/profile/friends",component:Wn}),r.a.createElement(Hn,{exact:!0,path:"/profile/groups",component:rr}),r.a.createElement(Hn,{exact:!0,path:"/profile/groups/create",component:hr}),r.a.createElement(Hn,{exact:!0,path:"/RouteDetails/:id",component:xa}))))},zr=(a(1151),a(596));a(1155);var Lr=function(){return Cn.loadFriends(),r.a.createElement("div",null,r.a.createElement(zr.Helmet,null,r.a.createElement("title",null,"ViaDe")),r.a.createElement(Ot.b,{position:Ot.c.POSITION.TOP_CENTER,autoClose:4e3,transition:Ot.a,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,pauseOnHover:!0}),r.a.createElement(Dr,null))},Rr=a(598),Fr=a(1234),Mr=Object(Rr.a)({palette:{primary:{main:"#302c58",light:"#5c5585",dark:"#09012f"},secondary:{main:"#f7f6fb",light:"#ffffff",dark:"#c4c3c8"}},typography:{fontFamily:"Nova"}});o.a.render(r.a.createElement(Fr.a,{theme:Mr},r.a.createElement(Lr,null)),document.getElementById("root"))},544:function(e,t,a){e.exports=a.p+"static/media/logo_2.3a6f0f91.svg"},554:function(e,t,a){e.exports=a.p+"static/media/logo_1.21d2fd21.svg"},558:function(e,t,a){e.exports=a.p+"static/media/404.85123741.svg"},567:function(e,t,a){e.exports=a.p+"static/media/camera.fb216ff3.svg"},568:function(e,t,a){e.exports=a.p+"static/media/map.0509229b.svg"},569:function(e,t,a){e.exports=a.p+"static/media/mountain.17e8f762.svg"},570:function(e,t,a){e.exports=a.p+"static/media/arrows.151bfd04.svg"},571:function(e,t,a){e.exports=a.p+"static/media/camera-retro.c1e55643.svg"},581:function(e,t,a){e.exports=a.p+"static/media/signal.245eff99.svg"},586:function(e,t,a){e.exports=a.p+"static/media/inrupt.19c91157.svg"},587:function(e,t,a){e.exports=a.p+"static/media/solidcommunity.a1390d20.png"},588:function(e,t,a){e.exports=a.p+"static/media/server.db94fd8b.svg"},590:function(e,t,a){e.exports=a.p+"static/media/HelpSupport.a78010bd.svg"},591:function(e,t,a){e.exports=a.p+"static/media/AboutMap.af251772.svg"},592:function(e,t,a){e.exports=a.p+"static/media/AboutInterop.371613d1.svg"},593:function(e,t,a){e.exports=a.p+"static/media/AboutMe.df224c63.svg"},594:function(e,t,a){e.exports=a.p+"static/media/AboutViaDe.f2c905a9.svg"},595:function(e,t,a){e.exports=a.p+"static/media/AboutData.d5ce39d8.svg"},624:function(e,t,a){e.exports=a(1156)},629:function(e,t,a){},668:function(e,t){},670:function(e,t){},694:function(e,t){},741:function(e,t){},742:function(e,t){},929:function(e,t){},930:function(e,t){}},[[624,1,2]]]);
//# sourceMappingURL=main.9afc1998.chunk.js.map