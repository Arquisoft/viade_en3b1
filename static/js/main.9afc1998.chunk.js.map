{"version":3,"sources":["components/btns/mis-rutas/MisRutas.js","entities/Friend.js","handler/UserDataHandler.js","handler/SessionHandler.js","components/btns/profile-menu/ProfileMenu.js","components/btns/import-route/ImportRoute.js","components/ui/main/NavBar.js","components/ui/main/Footer.js","components/containers/welcome/Welcome.js","components/containers/pagenotfound/PageNotFound.js","components/containers/register/Register.js","components/map/MapSnapshot.js","components/ui/MyRouteCard.js","entities/Media.js","entities/TrackPoint.js","entities/Route.js","handler/MediaHandler.js","parser/ParserJsonLdToRoute.js","entities/Group.js","parser/ParserJsonLdToGroup.js","handler/PodHandler.js","handler/RouteHandler.js","cache/RoutesCache.js","components/ui/ListUserRoutes.js","components/ui/banner/MyRouteBanner.js","components/containers/routes/UserRoutes.js","components/map/DetailsMap.js","components/elevation-chart/ElevationChart.js","components/ui/MyCarousel.js","components/ui/RouteDetailsCard.js","components/containers/routes/RouteDetails.js","components/containers/stepper/dataform/DataForm.js","components/containers/stepper/reviewform/ReviewForm.js","components/map/EditableMap.js","components/ui/utils/ToastContent.js","components/containers/stepper/mapform/MapForm.js","components/containers/stepper/success/SuccessForm.js","components/containers/newrouteform/NewRouteForm.js","components/ui/ImportRouteCard.js","parser/ParserGpxToRoute.js","components/containers/importrouteform/ImportRouteForm.js","components/containers/profile/Profile.js","cache/UserCache.js","components/containers/profile/ProfileFriends.js","components/auth/Provider.js","components/containers/login/Login.js","components/layouts/PrivateLayout.js","components/layouts/PublicLayout.js","components/layouts/NotLoggedInLayout.js","handler/GroupHandler.js","cache/GroupsCache.js","components/ui/GroupCard.js","components/containers/profile/ProfileGroups.js","components/containers/creategroup/CreateGroup.js","components/containers/help/FaqQuestions.js","components/containers/help/Help.js","components/containers/help/About.js","components/containers/Router.js","App.js","index.js","assets/img/logo/logo_2.svg","assets/img/logo/logo_1.svg","assets/img/icons/404.svg","assets/img/logo/camera.svg","assets/img/logo/map.svg","assets/img/logo/mountain.svg","assets/img/logo/arrows.svg","assets/img/logo/camera-retro.svg","assets/img/logo/signal.svg","assets/img/providers/inrupt.svg","assets/img/providers/solidcommunity.png","assets/img/providers/server.svg","assets/img/icons/HelpSupport.svg","assets/img/icons/AboutMap.svg","assets/img/icons/AboutInterop.svg","assets/img/icons/AboutMe.svg","assets/img/icons/AboutViaDe.svg","assets/img/icons/AboutData.svg"],"names":["StyledMenu","withStyles","paper","border","props","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","theme","root","backgroundColor","palette","secondary","main","MenuItem","useStyles","makeStyles","button","marginRight","spacing","MisRutas","classes","React","useState","anchorEl","setAnchorEl","Button","aria-controls","aria-haspopup","variant","color","onClick","event","currentTarget","className","id","keepMounted","open","Boolean","onClose","Link","underline","href","divider","ListItemIcon","ListItemText","primary","Friend","webId","name","photo","this","JSON","stringify","data","require","default","GetUserProfileImage","a","useLDflexValue","value","GetUserWebId","auth","currentSession","session","GetUserFriends","friends","useLDflexList","friendsAux","forEach","friendLDflexValue","friendWebIdLDflexValue","GetSpecificName","GetSpecificProfileImage","profilePic","friendAux","toString","push","personName","substring","length","vcard_hasPhoto","LogOut","logout","uri","window","location","origin","replace","profile","width","height","profileBig","ProfileMenu","url","setUrl","then","path","Avatar","alt","src","disableRipple","Value","ImportRoute","state","setState","files","history","pathname","routes","data-testid","btn","handleOpen","disableRejectionFeedback","acceptedFiles","showPreviews","showPreviewsInDropzone","maxFileSize","filesLimit","clearOnUnmount","onSave","handleSave","handleClose","bind","submitButtonText","cancelButtonText","dialogTitle","dropzoneText","Component","withRouter","flexGrow","toolbar","minHeight","paddingTop","paddingBottom","menuButton","link","NavBar","AppBar","position","Toolbar","Grid","container","item","logo1","style","Typography","LoggedIn","LoggedOut","display","flexDirection","marginTop","marginBottom","footer","padding","type","grey","StickyFooter","Container","maxWidth","target","fontSize","marginLeft","Divider","orientation","flexItem","Welcome","CssBaseline","direction","alignItems","justify","xs","align","sm","md","PageNotFound","textAlign","svgIcon","Box","fontWeight","minWidth","margin","avatar","form","justifyContent","submit","Register","component","Card","fullWidth","startIcon","MapSnapshot","points","route","getTrackPoints","map","point","getLatitude","getLongitude","setPopup","Map","bounds","doubleClickZoom","dragging","keyboard","scrollWheelZoom","tap","touchZoom","zoomControl","boxZoom","TileLayer","Polyline","positions","background","light","pos","MyRouteCard","getName","CardMedia","CardContent","getId","Media","content","uuid","newUrl","split","pop","TrackPoint","latitude","longitude","num","Route","description","trackPoints","comments","media","date","author","checkInput","setID","setMedia","setTrackPoints","setComments","totalDistance","calculateDistance","Error","undefined","finalMedia","m","finalPoints","p","lat","lng","splice","indexOf","getElevation","baseUrl","i","lastPoint","fetch","response","status","json","parseInt","isNaN","alert","setElevation","catch","err","distance","destination","calculateDistanceTwoPoints","lon1","toRadian","lat1","lon2","lat2","deltaLat","deltaLon","Math","pow","sin","cos","asin","sqrt","degree","PI","routePointsJson","routeMediaJson","toJson","uploadMedia","storageHandler","PodHandler","storeMedia","loadMedia","mediaJson","findMedia","loadedMedia","ParserJsonLdToRoute","file","fileUrl","parse","Date","mediaData","parsePoints","parseMedia","finalroute","mediaList","filterMedia","list","filter","Group","members","membersJSON","ParserJsonLdToGroup","group","users","parseMembers","fc","pod","viadeFolder","defaultFolder","routesFolder","resourcesFolder","commentsFolder","groupsFolder","fileName","routeJson","callback","storeFile","getExtension","getContent","groupJson","createFile","error","routeUrl","deleteFile","itemExists","delete","readFolder","contents","readFile","fileContent","createFolder","includes","toast","warn","toastId","autoClose","r","urlJson","groups","uploadRoute","getMedia","storeRoute","toJsonLD","loadAllRoutes","findAllRoutes","loadedRoutes","deleteRoute","getUrl","first","addRouteToCache","find","obj","getRoutes","getRouteById","selectedroute","calculateElevation","Promise","setTimeout","clear","ListUserRoutes","loading","cache","routesList","toggleBackground","Backdrop","invisible","CircularProgress","hidden","each","key","MyRouteBanner","image","text","text2","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","UserRoutes","DetailsMap","markers","zoom","attribution","Marker","Popup","ElevationChart","trackpoints","init","index","labels","datasets","label","fill","lineTension","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","lineOptions","legend","tooltips","enabled","options","AutoplaySlider","withAutoplay","AwesomeSlider","MyCarousel","photos","source","play","cancelOnInteraction","interval","maplogo","mapTitle","chart","elevationlogo","elevationTitle","title","cameralogo","carouselTitle","carousel","datalogo","dataTitle","backBtn","deleteBtn","cameraRetrologo","defaultGallery","setOpen","getAuthor","getDate","getDescription","getDistance","toLocaleDateString","toFixed","RoutesCache","Tooltip","aria-label","Fab","size","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","handleDelete","autoFocus","fontStyle","svgIconMap","svgIconMountain","svgIconCamera","svgIconCameraRetro","svgIconArrows","RouteDetails","myroute","match","params","LinearProgress","DataForm","handleDateChange","next","e","preventDefault","handleNext","handleMediaChange","selectorFiles","code","values","handleChange","Fragment","gutterBottom","onSubmit","TextField","required","defaultValue","autoComplete","onChange","utils","DateFnsUtils","disableToolbar","format","KeyboardButtonProps","multiline","rows","accept","multiple","htmlFor","videos","FormHelperText","ReviewForm","createRoute","back","handleBack","pointsText","getUTCMonth","getUTCDate","getUTCFullYear","disabled","getPointsText","EditableMap","addPoint","latlng","slice","firstPoint","openNotif","updatePoint","marker_index","getLatLng","updatePointById","removePoint","removePointById","center","draggable","ondrag","onclick","provider","WarnToast","InfoToast","ErrorToast","SuccessToast","MapForm","current","handleMapPoints","info","closeNotif","createRef","ref","SuccessForm","download","handleDownload","arrow","IconButton","NewRouteForm","activeStep","input","newDate","newPoints","fileData","blob","Blob","URL","createObjectURL","document","createElement","click","Array","from","upload","checkSuccessCode","resolve","success","layout","Paper","imageSignal","Stepper","stepper","steps","Step","StepLabel","step","getStepContent","breakpoints","up","buttons","icon","grid","details","flex","martinTop","cover","marinLeft","expand","transform","transition","transitions","create","duration","shortest","expandOpen","ImportRouteCard","expanded","setExpanded","CardActions","disableSpacing","clsx","aria-expanded","Collapse","in","timeout","unmountOnExit","parseGpxToRoutes","gpxString","parseGpx","gpxData","tracks","track","pointsList","segments","segment","trackPoint","lon","parseTrackpoints","parseRouteTrack","TypeError","ImportRouteForm","handleFiles","re","fileReader","FileReader","onerror","onabort","onload","result","ext","exec","handleGPX","handleJSON","readAsText","routeArray","parser","parseImport","btnArea","Profile","setWebId","Tabs","indicatorColor","textColor","Tab","card","link1","borderBottom","dark","loadName","getWebId","loadWebId","getFriends","loadFriends","clearFriends","ProfileFriends","selected","FriendCardList","friendsList","setFriendsList","useEffect","FriendCard","friend","getPhoto","webid","fCard","CardHeader","fPhoto","action","Provider","logo_inrupt","registerLink","logo_solid","logo_local","Login","callbackUri","protocol","host","selectPlaceHolder","inputPlaceholder","formButtonText","btnTxtWebId","btnTxtProvider","errorsText","unknown","webIdNotValid","emptyProvider","emptyWebId","providers","getIdentityProviders","PrivateLayout","useWebId","rest","service","PublicLayout","NotLoggedInLayout","to","matchProps","storeGroup","loadAllGroups","findAllGroups","loadedGroups","getGroups","addGroup","clearGroups","GroupCard","getMembers","username","ProfileGroups","setGroups","setLoading","GroupsCache","gList","GroupsList","DefaultPlaceHolder","paper2","CreateGroup","setName","setMembers","UserCache","message","setMessage","severity","setSeverity","webIdList","uploadGroup","checkStatusCode","newSeverity","Snackbar","Checkbox","memberList","indexOfFriend","Alert","FaqQuestions","question","Help","About","svgIconViaDe","svgIconData","svgIconInterop","svgIconMe","Router","exact","App","Helmet","POSITION","TOP_CENTER","Slide","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","pauseOnHover","createMuiTheme","typography","fontFamily","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.9afc1998.chunk.js","sourcesContent":["import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { MenuItem, Menu, Link } from '@material-ui/core';\nimport ListIcon from '@material-ui/icons/List';\nimport { makeStyles } from '@material-ui/core/styles';\nimport EditLocationIcon from '@material-ui/icons/EditLocation';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { withStyles } from '@material-ui/core/styles';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nconst MisRutas = () => {\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <div>\n            <Button\n                aria-controls=\"customized-menu\"\n                aria-haspopup=\"true\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleClick}\n                className={classes.button}\n            >\n                Your Activity <ArrowDropDownIcon />\n            </Button>\n            <StyledMenu\n                id=\"customized-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                <Link underline='none' href={'#/dashboard'}>\n                    <StyledMenuItem divider>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"My routes\" />\n                    </StyledMenuItem>\n                </Link>\n                <Link underline='none' href={'#/create-route'}>\n                    <StyledMenuItem>\n                        <ListItemIcon>\n                            <EditLocationIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Create route\" />\n                    </StyledMenuItem>\n                </Link>\n            </StyledMenu>\n        </div>\n    );\n};\n\nconst StyledMenu = withStyles({\n    paper: {\n        border: '1px solid #d3d4d5',\n    },\n})((props) => (\n    <Menu\n        elevation={0}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n        }}\n        transformOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n        }}\n        {...props}\n    />\n));\n\nconst StyledMenuItem = withStyles((theme) => ({\n    root: {\n        '&:focus': {\n            backgroundColor: theme.palette.secondary.main,\n        },\n    },\n}))(MenuItem);\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n        marginRight: theme.spacing(2),\n    }\n}));\n\n\nexport default MisRutas;","\nclass Friend {\n    constructor(webId, name, photo) {\n        this.webId = webId;\n        this.name = name;\n        this.photo = photo;\n    }\n\n    getWebId() {\n        return this.webId;\n    }\n\n    getName() {\n        return this.name;\n    }\n\n    getPhoto() {\n        return this.photo;\n    }\n\n    toJson() {\n        return JSON.stringify(\n            {\n                \"url\": this.webId\n            }\n        );\n    }\n}\n\nexport default Friend;","import { useLDflexValue, useLDflexList } from '@solid/react';\nimport Friend from '../entities/Friend';\n\nconst { default: data } = require('@solid/query-ldflex');\n\nexport function GetUserName() {\n    const name = useLDflexValue('user.name') || 'unknown';\n    return name.value;\n};\n\nexport async function GetUserProfileImage() {\n    const photo = useLDflexValue('user.vcard_hasPhoto') || 'unknown';\n    return photo.value;\n};\n\nexport async function GetUserWebId() {\n    const auth = require('solid-auth-client');\n    try {\n        let session = await auth.currentSession();\n        return session.webId;\n    } catch (TypeError) {\n        return null;\n    }\n};\n\nexport async function GetUserFriends() {\n    const friends = useLDflexList('user.friends');\n    let friendsAux = [];\n\n    //For each value (LDflexValue) in friends(LDflexValue [])\n    friends.forEach(async (friendLDflexValue) => {\n\n        let friendWebIdLDflexValue = friendLDflexValue.value;\n        const webId = data[friendWebIdLDflexValue];\n\n        //Use the await to retrieve the data from the Promise object.\n        const name = await GetSpecificName(webId);\n        const profilePic = await GetSpecificProfileImage(webId);\n\n        let friendAux = new Friend(webId.toString(), name, profilePic);\n\n        friendsAux.push(friendAux);\n    });\n\n    return friendsAux;\n};\n\nexport async function GetSpecificName(webId) {\n    const personName = await webId.name;\n    try {\n        return personName.value;\n    } catch (TypeError) {\n\n        return webId.toString().substring(8, webId.toString().length - 1);\n    }\n};\n\nexport async function GetSpecificProfileImage(webId) {\n    const photo = await webId.vcard_hasPhoto;\n    try {\n        return photo.value;\n    } catch (TypeError) {\n\n        return \"images/userPictureUndefined\";\n    }\n}","\nconst auth = require('solid-auth-client');\n\nexport function LogOut() {\n    auth.logout();\n    let uri = `${window.location.origin}`;\n    window.location.replace(uri);\n} ","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { MenuItem, Menu, Link, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Value } from '@solid/react';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport PersonIcon from '@material-ui/icons/Person';\nimport PeopleIcon from '@material-ui/icons/People';\nimport { GetUserProfileImage } from '../../../handler/UserDataHandler';\nimport ContactSupportIcon from '@material-ui/icons/ContactSupport';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { LogOut } from '../../../handler/SessionHandler';\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\nimport InfoIcon from '@material-ui/icons/Info';\n\nconst ProfileMenu = () => {\n\n    const [url, setUrl] = useState(\"\");\n\n    GetUserProfileImage().then((path) => {\n        setUrl(path);\n    });\n\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <div>\n            <Button\n                aria-controls=\"customized-menu\"\n                aria-haspopup=\"true\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleClick}\n                className={classes.button}\n            >\n\n                <Avatar alt=\"Profile photo\" src={url} className={classes.profile} /> <ArrowDropDownIcon />\n            </Button>\n            <StyledMenu\n                id=\"customized-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                <StyledMenuItem divider disableRipple >\n                    <ListItemIcon>\n                        <Avatar alt=\"Profile photo\" src={url} className={classes.profileBig} />\n                    </ListItemIcon>\n                    <ListItemText primary={<Value src=\"user.name\" />} />\n                </StyledMenuItem>\n\n                <Link underline='none' href={'#/profile'}>\n                    <StyledMenuItem>\n                        <ListItemIcon>\n                            <PersonIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Your profile\" />\n                    </StyledMenuItem>\n                </Link>\n\n                <Link underline='none' href={'#/profile/friends'}>\n                    <StyledMenuItem>\n                        <ListItemIcon>\n                            <PeopleIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Friends\" />\n                    </StyledMenuItem>\n                </Link>\n\n                <Link underline='none' href={'#/profile/groups'}>\n                    <StyledMenuItem divider>\n                        <ListItemIcon>\n                            <SupervisedUserCircleIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Groups\" />\n                    </StyledMenuItem>\n                </Link>\n\n                <Link underline='none' href={'#/help'}>\n                    <StyledMenuItem>\n                        <ListItemIcon>\n                            <ContactSupportIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Need help?\" />\n                    </StyledMenuItem>\n                </Link>\n\n                <Link underline='none' href={'#/about'}>\n                    <StyledMenuItem divider>\n                        <ListItemIcon>\n                            <InfoIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"About us\" />\n                    </StyledMenuItem>\n                </Link>\n\n                <Link underline='none' onClick={() => LogOut()}>\n                    <StyledMenuItem>\n                        <ListItemIcon>\n                            <ExitToAppIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Sign out\" />\n                    </StyledMenuItem>\n                </Link>\n            </StyledMenu>\n        </div>\n    );\n};\n\nconst StyledMenu = withStyles({\n    paper: {\n        border: '1px solid #d3d4d5',\n    },\n})((props) => (\n    <Menu\n        elevation={0}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n        }}\n        transformOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n        }}\n        {...props}\n    />\n));\n\nconst StyledMenuItem = withStyles((theme) => ({\n    root: {\n        '&:focus': {\n            backgroundColor: theme.palette.secondary.main,\n        },\n    },\n}))(MenuItem);\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n        marginRight: theme.spacing(2),\n    },\n    profile: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n    },\n    profileBig: {\n        width: theme.spacing(5),\n        height: theme.spacing(5),\n    }\n}));\n\nexport default ProfileMenu;","import React, { Component } from 'react';\nimport { Button, withStyles } from '@material-ui/core';\nimport { DropzoneDialog } from 'material-ui-dropzone';\nimport { withRouter } from 'react-router-dom';\n\nexport class ImportRoute extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n        };\n    }\n\n    handleClose() {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleOpen() {\n        this.setState({\n            open: true,\n        });\n    }\n\n    handleSave(files) {\n        this.setState({\n            open: false,\n        });\n        this.props.history.push({\n            pathname: '/import-route',\n            routes: files\n        });\n    }\n\n    render() {\n\n        const { classes } = this.props;\n\n        return (\n            <div>\n                <Button data-testid=\"btn-import-route-test\" color=\"primary\" variant='contained' className={classes.btn} onClick={() => this.handleOpen()}>\n                    Import Route\n                </Button>\n                <DropzoneDialog\n                    open={this.state.open}\n                    disableRejectionFeedback={true}\n                    acceptedFiles={['.gpx', '.json', '.jsonld']}\n                    showPreviews={true}\n                    showPreviewsInDropzone={false}\n                    maxFileSize={30000000}\n                    filesLimit={10}\n                    clearOnUnmount={true}\n                    onSave={(files) => this.handleSave(files)}\n                    onClose={this.handleClose.bind(this)}\n                    submitButtonText={\"import\"}\n                    cancelButtonText={\"cancel\"}\n                    dialogTitle={\"Import routes\"}\n                    dropzoneText={\"Drag and drop any GPX or JSON route files\"}\n                />\n            </div>\n        );\n    }\n}\n\nconst useStyles = (theme) => ({\n    btn: {\n        marginRight: theme.spacing(2),\n    },\n});\n\nexport default withRouter(withStyles(useStyles)(ImportRoute));\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LoggedOut, LoggedIn } from '@solid/react';\nimport { Link, Typography, Grid } from '@material-ui/core';\nimport \"typeface-roboto\";\nimport MisRutas from '../../btns/mis-rutas/MisRutas.js';\nimport ProfileMenu from '../../btns/profile-menu/ProfileMenu';\nimport logo1 from '../../../assets/img/logo/logo_2.svg';\nimport ImportRoute from '../../btns/import-route/ImportRoute.js';\n\nconst NavBar = () => {\n  const classes = useStyles();\n  \n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar className={classes.toolbar}>\n\n          {/* Home link */}\n          <Grid className={classes.link}>\n            <Grid container >\n              <Link underline='none' color='inherit' href={'#/home'} >\n                <Grid container>\n                  <Grid item>\n                    <img src={logo1} alt=\"Viade Logo\" style={{ height: '2.5rem', width: '2.5rem' }} />\n                  </Grid>\n                  <Grid item>\n                    <Typography variant='h4'>\n                      ViaDe\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Link>\n            </Grid>\n          </Grid>\n\n          <LoggedIn><ImportRoute /></LoggedIn>\n\n          {/* <LoggedIn><Button className={classes.menuButton} href={\"#/social-feed\"} color=\"primary\" variant='contained'>Social Feed</Button></LoggedIn> */}\n          <LoggedIn><MisRutas /></LoggedIn>\n\n          <LoggedOut><Button className={classes.menuButton} href={\"#/register\"} color=\"primary\" variant='contained'>Sign Up</Button></LoggedOut>\n          <LoggedIn><ProfileMenu /></LoggedIn>\n\n          <LoggedOut><Button data-testid=\"btn-login-navbar\" className={classes.menuButton} href={\"#/login\"} color=\"inherit\" variant='outlined'>Sign In</Button></LoggedOut>\n\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    // width: '100%'\n  },\n  toolbar: {\n    minHeight: '3vh',\n    // alignItems: 'flex-start',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(2),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  link: {\n    flexGrow: 1,\n    // letterSpacing: 1,\n  },\n}));\n\nexport default NavBar;","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { Grid, Divider } from '@material-ui/core';\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\nimport EmailIcon from '@material-ui/icons/Email';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n  },\n  main: {\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(2),\n  },\n  footer: {\n    padding: theme.spacing(10, 10),\n    marginTop: 'auto',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[800],\n  },\n}));\n\nexport default function StickyFooter() {\n  const classes = useStyles();\n\n  return (\n    <div >\n      <footer className={classes.footer}>\n        <Container maxWidth=\"xs\">\n          <Grid container spacing={5}>\n            <Grid item>\n              <Typography variant=\"h6\">ViaDe En3B1</Typography>\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">Made by <Link style={{ color: \"#302c58\" }} target=\"_blank\" href={\"https://www.linkedin.com/in/pablocanalsuarez/\"}>Pablo Caal</Link></Typography>\n              <div>\n                <Link href=\"https://www.linkedin.com/in/pablocanalsuarez/\">\n                  <LinkedInIcon fontSize=\"default\" />\n                </Link>\n                <Link style={{ marginLeft: '0.5rem' }} target=\"_blank\" href=\"mailto:uo264903@uniovi.es\">\n                  <EmailIcon fontSize=\"default\" />\n                </Link>\n              </div>\n            </Grid>\n            <Divider orientation=\"vertical\" flexItem />\n            <Grid item style={{ marginTop: '1rem' }}>\n              <Link target=\"_blank\" href=\"https://github.com/Arquisoft/viade_en3b1/\">\n                <GitHubIcon fontSize=\"large\" />\n              </Link>\n            </Grid>\n          </Grid>\n        </Container>\n      </footer>\n    </div>\n  );\n}","import React from 'react';\nimport NavBar from '../../ui/main/NavBar.js';\nimport { Typography, Grid, Divider, CssBaseline, Button } from '@material-ui/core';\nimport logo1 from '../../../assets/img/logo/logo_1.svg';\nimport Footer from '../../ui/main/Footer';\n\nconst Welcome = () => {\n\n    return (\n        <div>\n            <CssBaseline />\n            <NavBar />\n            <Grid container>\n                <Grid\n                    item\n                    container\n                    // spacing={0}\n                    direction=\"column\"\n                    alignItems=\"center\"\n                    justify=\"center\"\n                    style={{ \n                        marginTop: '20rem',\n                        marginBottom: '30rem',\n                        // height: '80rem'\n                     }}\n                    >\n                    <Grid item xs={3} style={{ marginBottom: '1rem' }}>\n                        <img src={logo1} alt=\"Viade Logo\" style={{ height: '6.5rem', width: '6.5rem' }} />\n                    </Grid>\n\n                    <Grid item xs={3}>\n                        <Typography style={{ marginBottom: '0.5rem' }} variant=\"h4\" color=\"inherit\" align=\"center\">Welcome to ViaDe.</Typography>\n                        <Divider />\n                        <Typography style={{ marginTop: '0.5rem' }} variant=\"body1\" color=\"inherit\" align=\"center\">The first routes management system based on SOLID technology.</Typography>\n                    </Grid>\n\n                    <Button style={{ marginTop: '2rem' }} href={\"#/about\"} variant=\"outlined\" color=\"primary\">Learn More</Button>\n                </Grid>\n\n\n                <Grid\n                    item\n                    xs={12}\n                    sm={12}\n                    md={12}\n                >\n                    <Footer />\n                </Grid>\n\n            </Grid>\n        </div>\n    );\n};\n\nexport default Welcome;\n","import React from 'react';\nimport svgIcon from '../../../assets/img/icons/404.svg';\nimport { Link, Box } from '@material-ui/core';\n\nconst PageNotFound = () => {\n    \n    return (\n        <div style={{marginLeft:'5vh', marginTop:'5vh', textAlign: 'center'}}>\n            <img alt=\"404 logo\" src={svgIcon} />\n            <Box fontSize=\"h5.fontSize\" fontWeight=\"fontWeightBold\">Go back to <Link style={{ color: \"#27DEBF\" }} href={\"#/\"}>Home</Link></Box>\n        </div>\n    );\n};\n\nexport default PageNotFound;\n","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport NavBar from '../../ui/main/NavBar.js';\nimport Card from '@material-ui/core/Card';\nimport ContactsOutlinedIcon from '@material-ui/icons/ContactsOutlined';\nimport ContactsIcon from '@material-ui/icons/Contacts';\nimport EmojiPeopleIcon from '@material-ui/icons/EmojiPeople';\nimport { Grid } from '@material-ui/core';\nimport Footer from '../../ui/main/Footer.js';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        minWidth: 275,\n        margin: 50,\n        marginTop: '15rem'\n    },\n    paper: {\n        marginTop: theme.spacing(5),\n        marginBottom: theme.spacing(5),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: '#7c4dff',\n    },\n    form: {\n        width: '80%',\n        marginTop: theme.spacing(1),\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    submit: {\n        margin: theme.spacing(1, 0, 2),\n    },\n    link:{\n        margin: theme.spacing(1, 0, 2),\n    }\n}));\n\nexport default function Register() {\n    const classes = useStyles();\n\n    return (\n        <div>\n            <NavBar />\n            <Container component=\"main\" maxWidth=\"sm\">\n                <Card className={classes.root} elevation={4}>\n                    <CssBaseline />\n                    <div className={classes.paper}>\n                        <Avatar className={classes.avatar}>\n                            <AccountCircleIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">Hi! Welcome to Solid.</Typography>\n                        <div className={classes.form}>\n                             \n                            <Button\n                                data-testid=\"btn-how-to-choose-provider\"\n                                id=\"btn-how-to-choose-provider\"\n                                fullWidth\n                                color=\"primary\"\n                                className={classes.link}\n                                startIcon={<EmojiPeopleIcon/>}\n                                onClick={() => window.open('https://solid.inrupt.com/how-it-works')}\n                            >How to choose a Provider?</Button>\n\n                            <Button\n                                data-testid=\"btn-inrupt-provider\"\n                                id=\"btn-inrupt-provider\"\n                                fullWidth\n                                variant=\"outlined\"\n                                color=\"primary\"\n                                className={classes.submit}\n                                startIcon={<ContactsOutlinedIcon/>}\n                                onClick={() => window.open('https://inrupt.net/register')}\n                            >Inrupt</Button>\n\n                            <Button\n                                data-testid=\"btn-solid-community-provider\"\n                                id=\"btn-solid-community-provider\"\n                                fullWidth\n                                variant=\"outlined\"\n                                color=\"primary\"\n                                className={classes.submit}\n                                startIcon={<ContactsIcon/>}\n                                onClick={() => window.open('https://solid.community/register')}\n                            >Solid Community</Button>\n\n                        </div>\n                    </div>\n                </Card>\n            </Container>\n            <Grid\n                    item\n                    xs={12}\n                    sm={12}\n                    md={12}\n                style={{marginTop: '36rem'}}\n                >\n                    <Footer />\n                </Grid>\n        </div>\n    );\n}","import React, { Component } from 'react';\nimport { Map, TileLayer, Polyline } from 'react-leaflet';\n\nexport default class MapSnapshot extends Component {\n  points = this.props.route.getTrackPoints().map((point) => (\n    [point.getLatitude(), point.getLongitude()]\n  ));\n\n  setPopup = () => { }\n\n  render() {\n    return (\n      <Map bounds={this.points} doubleClickZoom={false} dragging={false} keyboard={false}\n        scrollWheelZoom={false} tap={false} touchZoom={false} zoomControl={false} boxZoom={false}>\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <Polyline positions={this.points} color='blue' />\n\n      </Map>\n    );\n  }\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport MapSnapshot from '../map/MapSnapshot.js'\nimport Button from '@material-ui/core/Button';\nimport { Link, Grid, CardMedia } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: 290,\n    marginBottom: '2vh',\n    marginTop: '4vh',\n    background: theme.palette.secondary.light,\n  },\n  pos: {\n    color: 'black'\n  },\n}));\n\nexport default function MyRouteCard(props) {\n  const classes = useStyles();\n  const { route } = props;\n\n  var name = route.getName();\n\n  return (\n    <Card elevation={5} className={classes.root}>\n      <CardMedia>\n        <MapSnapshot route={props.route}></MapSnapshot>\n      </CardMedia>\n      <CardContent style={{ textAlign: \"center\" }}>\n        <Grid\n          container\n          spacing={2}\n          alignItems=\"center\"\n          justify=\"center\"\n        >\n\n          <Grid item xs={12} >\n            <Link underline='none' href={\"#/RouteDetails/\" + props.route.getId()}>\n              <Typography variant=\"h5\" component=\"h2\">\n                {name}\n              </Typography>\n            </Link>\n          </Grid>\n\n          <Grid item>\n            <Button \n              id={name}\n              variant='outlined'\n              href={\"#/RouteDetails/\" + props.route.getId()}\n              color=\"inherit\"\n              style={{ marginLeft: 'auto', marginRight: 'auto' }}>\n              Details\n          </Button>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card >\n  );\n}","import { v4 as uuid } from \"uuid\";\n\nclass Media{\n\n    /**\n     * \n     * @param {Object} content Video, photo or audio.\n     * @param {String} name (Optional) Name of the Media object. \n     */\n    constructor(content, name, id = null) {\n        this.content = content;\n        this.name = name;\n        this.url = \"\";\n\n        if(id === null) {\n            this.id = uuid().toString();\n        } else {\n            this.id = id;\n        }\n    }\n\n    setUrl(newUrl) {\n        this.url = newUrl;\n    }\n\n    getId() {\n        return this.id;\n    }\n\n    getName() {\n        return this.name;\n    }\n\n    getContent() {\n        return this.content;\n    }\n\n    getExtension() {\n        return '.'+this.name.split('.').pop();\n    }\n\n    getUrl() {\n        return this.url;\n    }\n\n    toJson() {\n        return {\n            \"@id\": this.url, // url\n            \"name\": this.name\n        };\n    }\n}\n\nexport default Media;","class TrackPoint {\n\n    /**\n     * \n     * @param {Number} latitude \n     * @param {Number} longitude \n     * @param {String} name \n     * @param {Number} elevation \n     */\n    constructor(latitude, longitude, elevation) {\n\n        this.latitude = latitude;\n        this.longitude = longitude;\n\n        if(!elevation){\n            this.elevation = \"\";\n        } else {\n            this.elevation = elevation;\n        }\n    }\n\n    getLatitude() {\n        return this.latitude;\n    }\n\n    getElevation() {\n        return this.elevation;\n    }\n\n    getLongitude() {\n        return this.longitude;\n    }\n\n    setElevation(num) {\n        this.elevation = num;\n    }\n\n    toJson() {\n        return {\n            \"latitude\": this.latitude,\n            \"longitude\": this.longitude,\n            \"elevation\": this.elevation,\n        };\n    }\n}\n\nexport default TrackPoint;","import { v4 as uuid } from \"uuid\";\nimport Media from \"./Media\";\nimport TrackPoint from \"./TrackPoint\";\n\nclass Route {\n\n    /**\n     * Constructor for a new Route. \n     * An id will be automatically generated (uuid v4).\n     * \n     * @param {String} name Name of the route.\n     * @param {String} description Description of the route.\n     * @param {Array} trackPoints List of trackpoints.\n     * @param {Array} comments List of comments\n     * @param {Array<Object>} media List of objects of media\n     * @param {Date} date Date of the route.\n     */\n    constructor(name, description, trackPoints, comments, media, date, id, author = null) {\n\n        this.checkInput(name, trackPoints);\n\n        this.name = name;\n        this.date = date;\n        this.description = description;\n\n        this.id = null;\n        this.media = null;\n        this.trackPoints = null;\n        this.comments = null;\n\n        this.setID(id);\n        this.setMedia(media);\n        this.setTrackPoints(trackPoints);\n        this.setComments(comments);\n\n        this.totalDistance = this.calculateDistance();\n        this.author = author;\n\n        this.url = null;\n    }\n\n    checkInput(name, trackPoints) {\n        if(!name || name.length === 0){\n            throw Error(\"Name can't be null nor empty\");\n        }\n        if(trackPoints.length === 0){\n            throw Error(\"Trackpoints list can't be empty\");\n        }\n    }\n\n    getUrl() {\n        return this.url;\n    }\n\n    setUrl(url) {\n        if(url !== null) {\n            this.url = url;\n        }\n    }\n\n    setID(id) {\n        if (id === null || id === undefined) {\n            this.id = uuid().toString();\n        } else {\n            this.id = id;\n        }\n    }\n\n    setMedia(media) {\n        if (media === null) {\n            this.media = [];\n            return;\n        }\n        if (media[0] instanceof Media) {\n            this.media = media;\n            return;\n        }\n        if (media instanceof Media) {\n            this.media = [];\n            this.media.push(media);\n            return;\n        }\n        let finalMedia = [];\n        media.forEach((m) => {\n            finalMedia.push(new Media(m, m.name, null));\n        });\n        this.media = finalMedia;\n    }\n\n    setTrackPoints(points) {\n        if (points === null) {\n            this.trackPoints = [];\n            return;\n        }\n        if (points[0] instanceof TrackPoint) {\n            this.trackPoints = points;\n            return;\n        }\n        let finalPoints = [];\n        points.forEach((p) => {\n            finalPoints.push(new TrackPoint(p.lat, p.lng));\n        });\n        this.trackPoints = finalPoints;\n    }\n\n    setComments(comments) {\n        // CHANGE WHEN COMMENTS FEATURE\n        if (comments === null) {\n            this.comments = [];\n        } else {\n            this.comments = comments;\n        }\n    }\n\n    addTrackPoints(points) {\n        if(points.length > 0) {\n            points.forEach((p) => {\n                this.trackPoints.push(p);\n            });\n        }\n    }\n\n    getId() {\n        return this.id;\n    }\n\n    getName() {\n        return this.name;\n    }\n\n    getDate() {\n        return this.date;\n    }\n\n    getDescription() {\n        return this.description;\n    }\n\n    getTrackPoints() {\n        return this.trackPoints;\n    }\n\n    getComments() {\n        return this.comments;\n    }\n\n    getMedia() {\n        return this.media;\n    }\n\n    getDistance() {\n        return this.totalDistance;\n    }\n\n    getAuthor() {\n        return this.author;\n    }\n\n    addMedia(media) {\n        this.media.push(media);\n    }\n\n    deleteMedia(media) {\n        this.media.splice(this.media.indexOf(media), 1);\n    }\n\n    async calculateElevation() {\n        if (this.trackPoints === null) { // no trackpoints list\n            return;\n        }\n        if (this.trackPoints[0].getElevation().length !== 0) { // route already has elevation\n            return;\n        }\n\n        var baseUrl = \"https://api.jawg.io/elevations?locations=\";\n\n        for (let i = 0; i < this.trackPoints.length; i++) {\n            let lastPoint = this.trackPoints.length - 1;\n            let p = this.trackPoints[i];\n\n            if (i === lastPoint) {\n                baseUrl += p.getLatitude() + \",\" + p.getLongitude();\n            } else {\n                baseUrl += p.getLatitude() + \",\" + p.getLongitude() + \"%7C\";\n            }\n        }\n\n        baseUrl += \"&access-token=TW7jT2vvzu9Oxs3Yr5RmuVkdwYZW6cKCfYdDoj55KBp9YmpuBqBrFcQtbNOI0QVi\";\n\n        fetch(baseUrl)\n            .then((response) => {\n                if (response.status === 200) {\n                    response.json()\n                        .then((data) => {\n                            for (let i = 0; i < data.length; i++) {\n                                let elevation = parseInt(data[i].elevation, 10);\n                                \n                                if(isNaN(elevation)) {\n                                    alert(\"Error while parsing elevation data\");\n                                    return;\n                                }\n                                this.trackPoints[i].setElevation(elevation);\n                            }\n                        });\n                }\n            })\n            .catch((err) => {\n                alert(\"Error while trying to fetch trackpoints elevation.\");\n            });\n    }\n\n    calculateDistance() {\n        if (this.trackPoints === null || !this.trackPoints || this.trackPoints.length === 0) { // no trackpoints list\n            return;\n        }\n\n        let distance = 0;\n        for(let i = 0; i < this.trackPoints.length; i++) {\n            if(i < this.trackPoints.length - 1) {\n                let origin = [this.trackPoints[i].getLatitude(), this.trackPoints[i].getLongitude()];\n                let destination = [this.trackPoints[i + 1].getLatitude(), this.trackPoints[i + 1].getLongitude()];\n                distance += parseInt(this.calculateDistanceTwoPoints(origin, destination), 10);\n            }\n        }\n\n        if(isNaN(distance)) {\n            return -1;\n        }\n\n        return distance;\n    }\n\n    /**\n     * Calculates the distance between two given points.\n     * Those points must be passed as pairs of latitude and longitude.\n     * \n     * Example: var distance = getDistance([lat1, lng1], [lat2, lng2])\n     * \n     * @param {Array} origin Pair of lat and lng of origin trackpoint \n     * @param {Array} destination Pair of lat and lng of destination trackpoint\n     */\n    calculateDistanceTwoPoints(origin, destination) {\n        // return distance in meters\n        var lon1 = this.toRadian(origin[1]),\n            lat1 = this.toRadian(origin[0]),\n            lon2 = this.toRadian(destination[1]),\n            lat2 = this.toRadian(destination[0]);\n    \n        var deltaLat = lat2 - lat1;\n        var deltaLon = lon2 - lon1;\n    \n        var a = Math.pow(Math.sin(deltaLat/2), 2) + Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(deltaLon/2), 2);\n        var c = 2 * Math.asin(Math.sqrt(a));\n        var EARTH_RADIUS = 6371;\n        return c * EARTH_RADIUS * 1000;\n    }\n    \n    toRadian(degree) {\n        return degree*Math.PI/180;\n    }\n\n    toJsonLD() {\n        let routePointsJson = [];\n        let routeMediaJson = [];\n\n        this.trackPoints.forEach((p) => routePointsJson.push(p.toJson()));\n        this.media.forEach((m) => routeMediaJson.push(m.toJson()));\n\n        return JSON.stringify(\n            {\n                \"@context\": {\n                    \"@version\": 1.1,\n                    \"comments\": {\n                        \"@container\": \"@list\",\n                        \"@id\": \"viade:comments\"\n                    },\n                    \"description\": {\n                        \"@id\": \"schema:description\",\n                        \"@type\": \"xs:string\"\n                    },\n                    \"media\": {\n                        \"@container\": \"@list\",\n                        \"@id\": \"viade:media\"\n                    },\n                    \"name\": {\n                        \"@id\": \"schema:name\",\n                        \"@type\": \"xs:string\"\n                    },\n                    \"points\": {\n                        \"@container\": \"@list\",\n                        \"@id\": \"viade:points\"\n                    },\n                    \"latitude\": {\n                        \"@id\": \"schema:latitude\",\n                        \"@type\": \"xs:double\"\n                    },\n                    \"longitude\": {\n                        \"@id\": \"schema:longitude\",\n                        \"@type\": \"xs:double\"\n                    },\n                    \"elevation\": {\n                        \"@id\": \"schema:elevation\",\n                        \"@type\": \"xsd:double\"\n                    },\n                    \"author\": {\n                        \"@id\": \"schema:author\",\n                        \"@type\": \"@id\"\n                    },\n                    \"date\": {\n                        \"@id\": \"schema:DateTime\",\n                        \"@type\": \"xsd:dateTime\"\n                    },\n                    \"rdf\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n                    \"rdfs\": \"http://www.w3.org/2000/01/rdf-schema#\",\n                    \"schema\": \"http://schema.org/\",\n                    \"viade\": \"http://arquisoft.github.io/viadeSpec/\",\n                    \"xsd\": \"http://www.w3.org/2001/XMLSchema#\"\n                },\n                \"id\": this.id,\n                \"date\": this.date,\n                \"name\": this.name,\n                \"author\": this.author || \"\",\n                \"description\": this.description,\n                \"comments\": this.comments,\n                \"media\": routeMediaJson,\n                \"points\": routePointsJson\n            }\n        );\n    }\n\n}\n\nexport default Route;","import auth from 'solid-auth-client';\nimport PodHandler from './PodHandler';\nimport Media from '../entities/Media';\n\nexport async function uploadMedia(media) {\n    if(!(media[0] instanceof Media)) {\n        throw new Error(\"Media must be of Object Media to be uploaded\");\n    }\n\n    let session = await auth.currentSession();\n    let storageHandler = new PodHandler(session);\n    \n    media.forEach((m) => {\n        let url = storageHandler.storeMedia(m);\n        m.setUrl(url);\n    });\n}\n\nexport async function loadMedia(mediaJson) {\n\n    let session = await auth.currentSession();\n    let storageHandler = new PodHandler(session);\n\n    let loadedMedia = await storageHandler.findMedia(mediaJson);\n\n    return loadedMedia;\n}","import Route from '../entities/Route.js';\nimport TrackPoint from '../entities/TrackPoint.js';\nimport { loadMedia } from '../handler/MediaHandler.js';\n\nclass ParserJsonLdToRoute {\n\n    async parse(file, fileUrl) {\n        try {\n            var route;\n            try {\n                route = JSON.parse(file);\n            } catch (err) {\n                return;\n            }\n\n            var name = route.name;\n            var id = route.id;\n            var date = new Date(route.date);\n            var description = route.description;\n\n            var points = route.points;\n            var comments = [];\n            var mediaData = route.media;\n\n            let trackPoints = this.parsePoints(points);\n            let media = await this.parseMedia(mediaData);\n\n            let finalroute;\n            try {\n                finalroute = new Route(name, description, trackPoints, comments, null, date, id);\n            } catch (err) {\n                return;\n            }\n\n            finalroute.setMedia(media);\n            finalroute.setUrl(fileUrl);\n\n            return finalroute;\n        } catch (err) {\n            return;\n        }\n    }\n\n    async parseImport(file) {\n        try {\n\n            var route;\n            try {\n                route = JSON.parse(file);\n            } catch (err) {\n                return;\n            }\n\n            var name = route.name;\n            var date = new Date(route.date);\n            var description = route.description;\n\n            var points = route.points;\n            var comments = [];\n\n            let trackPoints = this.parsePoints(points);\n\n            let finalroute;\n            try {\n                finalroute = new Route(name, description, trackPoints, comments, null, date, null);\n            } catch (err) {\n                return;\n            }\n\n            return finalroute;\n        } catch (err) {\n            return;\n        }\n    }\n\n    async parseMedia(media) {\n        let mediaList = [];\n        for (let i = 0; i < media.length; i++) {\n            let m = await loadMedia(media[i]);\n            if (m !== null) {\n                mediaList.push(m);\n            }\n        }\n\n        mediaList = this.filterMedia(mediaList);\n\n        return mediaList;\n    }\n\n    filterMedia(list) {\n        let result = list.filter((item) => item !== undefined);\n        return result;\n    }\n\n    parsePoints(points) {\n        let trackPoints = [];\n        for (let i = 0; i < points.length; i++) {\n            trackPoints.push(new TrackPoint(points[i].latitude, points[i].longitude, points[i].elevation));\n        }\n        return trackPoints;\n    }\n}\n\nexport default ParserJsonLdToRoute;","import { v4 as uuid } from \"uuid\";\n\nclass Group {\n\n    constructor(name, members = [], id = null) {\n        this.name = name;\n        this.members = members;\n\n        if (id === null) {\n            this.id = uuid().toString();\n        } else {\n            this.id = id;\n        }\n    }\n\n    getName() {\n        return this.name;\n    }\n\n    getMembers() {\n        return this.members;\n    }\n\n    getId() {\n        return this.id;\n    }\n\n    toJsonLD() {\n        let membersJSON = [];\n        this.members.forEach((url) => {\n            membersJSON.push(({\n                \"url\": url\n            }));\n        });\n        return JSON.stringify(\n            {\n                \"@context\": {\n                    \"@version\": 1.1,\n                    \"users\": {\n                        \"@container\": \"@list\",\n                        \"@id\": \"schema:Person\"\n                    },\n                    \"name\": {\n                        \"@id\": \"schema:name\",\n                        \"@type\": \"xs:string\"\n                    },\n                    \"url\": {\n                        \"@id\": \"schema:url\",\n                        \"@type\": \"xs:string\"\n                    },\n                    \"schema\": \"http://schema.org/\",\n                    \"xsd\": \"http://www.w3.org/2001/XMLSchema#\"\n                },\n                \"id\": this.id,\n                \"name\": this.name,\n                \"users\": membersJSON\n            }\n        );\n    }\n\n}\n\nexport default Group;","import Group from '../entities/Group.js';\n\nclass ParserJsonLdToGroup {\n\n    parse(file) {\n        var group = JSON.parse(file);\n\n        var name = group.name;\n        var id = group.id;\n\n        var users = group.users;\n        var members = this.parseMembers(users);\n\n        var finalGroup = new Group(name, members, id);\n\n        return finalGroup;\n    }\n\n    parseMembers(users) {\n        let members = [];\n        for (let i = 0; i < users.length; i++) {\n            members.push(users[i].url);\n        }\n        return members;\n    }\n}\n\nexport default ParserJsonLdToGroup;","import Media from \"../entities/Media\";\nimport ParserJsonLdToRoute from \"../parser/ParserJsonLdToRoute\";\nimport ParserJsonLdToGroup from \"../parser/ParserJsonLdToGroup\";\nimport { toast } from 'react-toastify';\n\nconst auth = require('solid-auth-client');\nconst FC = require('solid-file-client');\nconst fc = new FC(auth);\n\nclass PodHandler {\n\n    constructor(session) {\n        this.session = session;\n\n        this.pod = session.webId.split(\"profile\")[0];\n        this.viadeFolder = \"viade/\";\n\n        this.defaultFolder = this.pod + this.viadeFolder;\n\n        this.routesFolder = \"routes/\";\n        this.resourcesFolder = \"resources/\"; // for photos and videos \n        this.commentsFolder = \"comments/\";\n        this.groupsFolder = \"groups/\";\n    }\n\n    storeRoute(fileName, routeJson, callback = () => { }) {\n        let url = this.defaultFolder + this.routesFolder + fileName;\n        this.storeFile(url, routeJson, callback);\n    }\n\n    storeMedia(media, callback = () => { }) {\n        let url = this.defaultFolder + this.resourcesFolder + media.getId() + media.getExtension();\n        this.storeFile(url, media.getContent(), callback);\n        return url;\n    }\n\n    storeGroup(fileName, groupJson, callback = () => { }) {\n        let url = this.defaultFolder + this.groupsFolder + fileName;\n        this.storeFile(url, groupJson, callback);\n    }\n\n    storeFile(url, data, callback) {\n        let response = fc.createFile(url, data);\n        response.then(\n            (response) => { callback(0); }\n            , (error) => { callback(-1); }\n        );\n    }\n\n    async deleteRoute(routeUrl) {\n        if (routeUrl !== null) {\n            this.deleteFile(routeUrl);\n        } else {\n            alert('Route url cannot be null');\n        }\n    }\n\n    async deleteFile(url) {\n        if (await fc.itemExists(url)) {\n            try {\n                fc.delete(url);\n            } catch (error) {\n                alert(error);\n            }\n        }\n    }\n\n    async findAllRoutes() {\n        let url = this.defaultFolder + this.routesFolder;\n\n        var routes = [];\n\n        if (await fc.itemExists(url)) {\n            try {\n                let contents = await fc.readFolder(url);\n                let files = contents.files;\n\n                for (let i = 0; i < files.length; i++) {\n                    let fileContent = await fc.readFile(files[i].url);\n                    let route = await new ParserJsonLdToRoute().parse(fileContent, files[i].url);\n                    routes.push(route);\n                }\n\n            } catch (error) {\n                // alert(\"EN POD HANDLER\");\n            }\n        } else {\n            // There is no routes directory\n            await fc.createFolder(url);\n        }       \n\n        if(routes.includes(undefined)) {\n            toast.warn(\"Some of your routes couldn't be listed.\", {toastId:'1', autoClose:10000 })\n        }\n\n        return routes.filter((r) => r !== undefined);\n    }\n\n    async findMedia(urlJson) {\n\n        let url = urlJson[\"@id\"];\n        let media;\n\n        let fileExists = await fc.itemExists(url).catch((err) => {\n            return null;\n        });\n\n\n        if (fileExists) {\n            try {\n                let file = await fc.readFile(url);\n                media = new Media(file, urlJson[\"name\"]);\n                media.setUrl(url);\n            } catch (error) {\n                // alert(error);\n                return null;\n            }\n        } else {\n            // Media doesn't exist\n        }\n\n        return media;\n    }\n\n    async findAllGroups() {\n        let url = this.defaultFolder + this.groupsFolder;\n\n        var groups = [];\n\n        if (await fc.itemExists(url)) {\n            try {\n                let contents = await fc.readFolder(url);\n                let files = contents.files;\n\n                for (let i = 0; i < files.length; i++) {\n                    let fileContent = await fc.readFile(files[i].url);\n                    groups.push(new ParserJsonLdToGroup().parse(fileContent));\n                }\n\n            } catch (error) {\n                // alert(error);\n            }\n        } else {\n            // There is no groups directory\n            await fc.createFolder(url);\n        }\n\n        return groups;\n    }\n}\n\nexport default PodHandler;","import auth from 'solid-auth-client';\nimport PodHandler from './PodHandler';\nimport { uploadMedia } from './MediaHandler';\n\nexport async function uploadRoute(route, callback) {\n    let session = await auth.currentSession();\n    let storageHandler = new PodHandler(session);\n    let fileName = route.getName() + \"@\" + route.getId() + \".jsonld\"; // change for final version\n    \n    if(route.getMedia().length !== 0) {\n        await uploadMedia(route.getMedia());\n    }\n\n    // let successCode = -1; // -1 if error. 0 otherwise.\n    storageHandler.storeRoute(fileName, route.toJsonLD(), (status) => {\n        callback(status);\n    });\n}\n\nexport async function loadAllRoutes() {\n    let session = await auth.currentSession();\n    let storageHandler = new PodHandler(session);\n\n    let loadedRoutes = await storageHandler.findAllRoutes();\n    \n    return loadedRoutes;\n}\n\nexport async function deleteRoute(route) {\n    let session = await auth.currentSession();\n    let storageHandler = new PodHandler(session);\n    let url = route.getUrl();\n    \n    await storageHandler.deleteRoute(url);\n}","import { loadAllRoutes } from '../handler/RouteHandler';\n\nexport default {\n    first: true,\n    routes: [],\n    addRouteToCache(route) {\n        if (route && !this.routes.find((obj) => route.name === obj.name)) {\n            this.routes.push(route);\n        }\n    },\n    async getRoutes() {\n        if (this.routes.length === 0 || this.first) {\n            this.routes = await loadAllRoutes();\n            this.first = false;\n        }\n        return this.routes;\n    },\n    async getRouteById(id) {\n        if(this.routes.length === 0) {\n            await this.getRoutes();\n        }\n        let selectedroute = this.routes.find((r) => r.getId() === id);\n        if (selectedroute) {\n            await selectedroute.calculateElevation();\n            await new Promise((r) => setTimeout(r, 1000));\n            return selectedroute;\n        } else {\n            return -1;\n        }\n        \n        \n    },\n    clear() {\n        this.routes = [];\n        this.first = true;\n    }\n};","import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport MyRouteCard from './MyRouteCard';\nimport cache from '../../cache/RoutesCache';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Typography, Link } from '@material-ui/core';\n\nexport class ListUserRoutes extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      routes: [],\n    };\n  }\n\n  componentDidMount() {\n    cache.getRoutes().then((routesList) => {\n      this.setState({\n        routes: routesList,\n        loading: false,\n      });\n      this.props.toggleBackground();\n    });\n  }\n\n  render() {\n    const { routes, loading } = this.state;\n\n    if (loading) {\n      return (\n        <Backdrop style={{ color: '#5c5585' }} open={loading} invisible>\n          <CircularProgress color=\"inherit\" hidden={loading} />\n        </Backdrop>\n      );\n    }\n    \n    if (!loading && routes.length === 0) {\n      \n      return (\n        <div style={{ textAlign: 'center', marginTop: '15rem', marginBottom: '15rem' }}>\n          <Typography variant=\"h6\">You don't have any routes yet.</Typography>\n          <Typography variant=\"h6\">Want to {<Link style={{ color: \"#94E8B4\" }} href={\"#/create-route\"}>create</Link>} some?</Typography>\n        </div>\n      );\n    }\n\n    return (\n      <Grid container >\n        <Grid item xs={'auto'} >\n          <Grid container justify=\"center\" spacing={6}>\n\n            {routes.map((each) => (\n              <Grid key={each.getId()} item>\n                <MyRouteCard key={each.getId()} route={each} />\n              </Grid>\n            ))}\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default ListUserRoutes;","import React from 'react';\nimport { Grid, CssBaseline, makeStyles, Typography } from '@material-ui/core';\n\nexport default function MyRouteBanner() {\n    const classes = useStyles();\n\n    return (\n        <div>\n            {/* https://source.unsplash.com/user/pablocanalsuarez/likes/1600x900 */}\n            {/* https://source.unsplash.com/collection/9828433/1600x900 */}\n            <Grid container component=\"main\" className={classes.root}>\n                <CssBaseline />\n                <Grid\n                    item\n                    xs={false}\n                    sm={12}\n                    md={12}\n                    className={classes.image}>\n                    <Grid container spacing={0}>\n\n                        <Grid item sm={12} md={12}>\n                            <Typography className={classes.text}>Your routes,</Typography>\n                        </Grid>\n\n                        <Grid item sm={12} md={12}>\n                            <Typography className={classes.text2}>your rules.</Typography>\n                        </Grid>\n                        \n                    </Grid>\n                </Grid>\n            </Grid>\n\n        </div>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n\n    root: {\n        // height: '60em',\n        height: '30vw',\n    },\n    image: {\n        backgroundImage: `url(https://source.unsplash.com/collection/9828433/1600x900)`,\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    text: {\n        marginLeft: '4vw',\n        fontSize: '12vw',\n        color: '#ffffff'\n    },\n    text2: {\n        marginLeft: '6.5vw',\n        fontSize: '7vw',\n        color: '#ffffff'\n    }\n}));\n\n","import React, { Component } from 'react';\nimport NavBar from '../../ui/main/NavBar.js';\nimport ListUserRoutes from '../../ui/ListUserRoutes';\nimport { Grid } from \"@material-ui/core\";\nimport MyRouteBanner from \"../../ui/banner/MyRouteBanner.js\";\nimport Footer from \"../../ui/main/Footer.js\";\n\nexport class UserRoutes extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      hidden: true,\n    };\n  }\n\n  toggleBackground = () => {\n    this.setState({hidden: false});\n  }\n\n  render() {\n\n    const { hidden } = this.state;\n\n    return (\n      <div>\n        <div>\n          <NavBar />\n        </div>\n\n        <Grid\n          container\n          alignItems=\"center\"\n          justify=\"center\"\n        >\n          <Grid item hidden={hidden}>\n            <MyRouteBanner />\n          </Grid>\n\n          <Grid item style={{ maxWidth: '75rem' }}>\n            <ListUserRoutes toggleBackground={this.toggleBackground} />\n          </Grid>\n\n          <Grid\n            item\n            // xs={12}\n            sm={12}\n            md={12}\n            style={{ marginTop: '10rem' }}\n            hidden={hidden}\n          >\n            <Footer />\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default UserRoutes;","import React, { Component } from 'react';\nimport { Map, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\n\nexport default class DetailsMap extends Component {\n\n  constructor(props) {\n    super(props);\n    this.points = this.props.route.getTrackPoints().map((point) => (\n      [point.getLatitude(), point.getLongitude()]\n    ));\n\n    this.list = this.props.route.getTrackPoints();\n    this.markers = [this.list[0], this.list[this.list.length-1]];\n  }\n\n  render() {\n    return (\n      <Map id=\"mapdetails\" bounds={this.points} zoom={16} height={5}>\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <Polyline positions={this.points} color='blue' />\n\n        {this.markers.map((point) => (\n          <Marker \n            key={point.getLatitude()+','+point.getLongitude()} \n            position={[point.getLatitude(), point.getLongitude()]}>\n            <Popup>\n              <p>Latitude: {point.getLatitude()}</p>\n              <p>Longitude: {point.getLongitude()}</p>\n              <p>Elevation: {parseInt( point.getElevation(), 10 )}</p>\n            </Popup>\n          </Marker>\n        ))}\n      </Map>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\n\nexport class ElevationChart extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            points: props.trackpoints,\n        };\n        this.init(this.state.points);\n    }\n\n    init(points) {\n        let index = 1;\n        this.data = {\n            labels: points.map((p) => `Point ${index++}`),\n            datasets: [\n                {\n                    label: 'Elevation',\n                    fill: false,\n                    lineTension: 0.1,\n                    backgroundColor: 'rgba(75,192,192,0.4)',\n                    borderColor: '#44dba1',\n                    borderCapStyle: 'butt',\n                    borderDash: [],\n                    borderDashOffset: 0.0,\n                    borderJoinStyle: 'miter',\n                    pointBorderColor: '#302c58',\n                    pointBackgroundColor: '#302c58',\n                    pointBorderWidth: 1,\n                    pointHoverRadius: 5,\n                    pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n                    pointHoverBorderColor: '#302c58',\n                    pointHoverBorderWidth: 2,\n                    pointRadius: 1,\n                    pointHitRadius: 15,\n                    data: points.map((p) => parseInt( p.getElevation(), 10 )),\n                }\n            ]\n        };\n        this.lineOptions = {\n            legend: {\n                display: false,\n            },\n            tooltips: {\n                enabled: true,\n            },\n        };\n    }\n\n    render() {\n        return (\n            <Line\n                data={this.data}\n                options={this.lineOptions}\n                height={100}\n            />\n        );\n    }\n}\n\nexport default ElevationChart;\n","import React, { Component } from 'react';\nimport AwesomeSlider from 'react-awesome-slider';\nimport withAutoplay from 'react-awesome-slider/dist/autoplay';\nimport 'react-awesome-slider/dist/styles.css';\n\nconst AutoplaySlider = withAutoplay(AwesomeSlider);\n\nexport class MyCarousel extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            photos: this.props.photos,\n        }\n\n        this.media = [];\n        this.state.photos.forEach((p) => {\n            this.media.push({ source: p.getUrl() });\n        });\n    }\n\n    render() {\n        return (\n            <AutoplaySlider\n                play={true}\n                cancelOnInteraction={false}\n                interval={6000}\n                media={this.media}\n            />\n        );\n    }\n}\n\nexport default MyCarousel;","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport DetailsMap from '../map/DetailsMap.js';\nimport ElevationChart from '../elevation-chart/ElevationChart.js';\nimport { Box, Tooltip, Fab, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@material-ui/core';\nimport MyCarousel from './MyCarousel.js';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport svgIconCamera from '../../assets/img/logo/camera.svg';\nimport svgIconMap from '../../assets/img/logo/map.svg';\nimport svgIconMountain from '../../assets/img/logo/mountain.svg';\nimport svgIconArrows from '../../assets/img/logo/arrows.svg';\nimport svgIconCameraRetro from '../../assets/img/logo/camera-retro.svg';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport RoutesCache from '../../cache/RoutesCache';\nimport { deleteRoute } from '../../handler/RouteHandler.js';\nimport { withRouter } from 'react-router';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        marginTop: theme.spacing(-15),\n        // marginLeft: theme.spacing(10),\n        // marginRight: theme.spacing(10),\n    },\n    maplogo: {\n        height: '2rem',\n        width: '2rem',\n        marginRight: theme.spacing(1),\n    },\n    mapTitle: {\n        marginTop: theme.spacing(5),\n        marginLeft: theme.spacing(15),\n    },\n    map: {\n        height: '20rem',\n        maxWidth: '40rem',\n        marginTop: theme.spacing(2),\n        marginLeft: theme.spacing(15),\n    },\n    chart: {\n        // height: '20rem',\n        maxWidth: '40rem',\n        marginTop: theme.spacing(2),\n        marginLeft: theme.spacing(15),\n    },\n    elevationlogo: {\n        height: '2rem',\n        width: '2rem',\n        marginRight: theme.spacing(1),\n    },\n    elevationTitle: {\n        marginTop: theme.spacing(8),\n        marginLeft: theme.spacing(15),\n    },\n    title: {\n        marginLeft: theme.spacing(15),\n    },\n    cameralogo: {\n        height: '2rem',\n        width: '2rem',\n        marginRight: theme.spacing(1),\n    },\n    carouselTitle: {\n        marginTop: theme.spacing(17),\n    },\n    carousel: {\n        height: '23rem',\n        width: '33rem',\n        marginTop: theme.spacing(2),\n    },\n    data: {\n        width: '33rem',\n        marginTop: theme.spacing(2),\n    },\n    datalogo: {\n        height: '2rem',\n        width: '2rem',\n        marginRight: theme.spacing(1),\n    },\n    dataTitle: {\n        marginTop: theme.spacing(3),\n    },\n    backBtn: {\n        margin: theme.spacing(3),\n    },\n    deleteBtn: {\n        margin: theme.spacing(3),\n        backgroundColor: '#000000',\n        color: theme.palette.secondary.light,\n    },\n    cameraRetrologo: {\n        height: '10rem',\n        width: '10rem',\n    },\n    defaultGallery: {\n        marginTop: theme.spacing(6),\n    }\n}));\n\nfunction RouteDetailsCard(props) {\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    if (props.route === null) {\n        return null;\n    }\n    const { route } = props;\n\n    var name = route.getName();\n    var author = route.getAuthor() || \"you\";\n    var date = route.getDate() || \"--\";\n    var description = route.getDescription() || \"--\";\n    var distance = route.getDistance() || \"--\";\n\n    if(date !== \"--\") {\n        date = date.toLocaleDateString();\n    }\n\n    if(distance !== \"--\") {\n        if(distance > 1000) {\n            var km = distance / 1000;\n            distance = km.toFixed(1) + \" km\";\n        } else {\n            distance = distance.toFixed(0) + \" m\";\n        }\n    }\n\n    var media = route.getMedia();\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    async function handleDelete() {\n        RoutesCache.clear();\n        await deleteRoute(route);\n        props.history.push('/dashboard');\n    }\n\n    return (\n        <div>\n            <div style={{ alignItems: 'left' }}>\n                <Tooltip title=\"Back\" aria-label=\"back\" className={classes.backBtn}>\n                    <Fab size=\"small\" href={\"#/dashboard\"}>\n                        <ArrowBackIcon />\n                    </Fab>\n                </Tooltip>\n            </div>\n\n            <div style={{ alignItems: 'right' }}>\n                <Tooltip title=\"Delete route\" aria-label=\"back\" >\n                    <Fab size=\"small\" className={classes.deleteBtn} onClick={handleClickOpen}>\n                        <DeleteForeverIcon />\n                    </Fab>\n                </Tooltip>\n            </div>\n\n\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">{`Delete route ${name}?`}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        The route will be permanently deleted from your Solid POD.\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={() => handleDelete()} color=\"primary\" autoFocus>\n                        Delete\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n\n            <Grid\n                container\n                className={classes.root}\n                spacing={3}\n\n            >\n                <Grid item xs sm={6}>\n\n                    {/* ##### ROUTE NAME ##### */}\n                    <Grid item className={classes.title}>\n                        <Box fontStyle=\"italic\" fontSize=\"h3.fontSize\" fontWeight=\"fontWeightBold\">\n                            {name}\n                        </Box>\n                        <Typography color=\"textSecondary\" variant=\"h6\">\n                            by {author}\n                        </Typography>\n                    </Grid>\n\n                    {/* ##### MAP ##### */}\n                    <Grid item >\n                        <Grid className={classes.mapTitle} container item>\n                            <img src={svgIconMap} alt=\"Map logo\" className={classes.maplogo} />\n                            <Box fontSize=\"h5.fontSize\" fontWeight=\"fontWeightBold\">\n                                Map\n                            </Box>\n                        </Grid>\n\n                        <Card variant=\"outlined\" className={classes.map}>\n                            <DetailsMap route={route} />\n                        </Card>\n                    </Grid>\n\n                    {/* ##### ELEVATION CHART ##### */}\n                    <Grid item >\n                        <Grid className={classes.elevationTitle} container item>\n                            <img src={svgIconMountain} alt=\"Elevation logo\" className={classes.elevationlogo} />\n                            <Box fontSize=\"h5.fontSize\" fontWeight=\"fontWeightBold\">\n                                Elevation\n                            </Box>\n                        </Grid>\n\n                        <Grid item className={classes.chart} >\n                            <ElevationChart trackpoints={route.getTrackPoints()} />\n                        </Grid>\n                    </Grid>\n\n                </Grid>\n\n                <Grid item xs sm={4}>\n\n                    {/* ##### IMAGE GALLERY ##### */}\n                    <Grid item >\n                        <Grid className={classes.carouselTitle} container item>\n                            <img src={svgIconCamera} alt=\"Camera logo\" className={classes.cameralogo} />\n                            <Box fontSize=\"h5.fontSize\" fontWeight=\"fontWeightBold\">\n                                Gallery\n                            </Box>\n                        </Grid>\n\n                        <Card elevation={0} className={classes.carousel}>\n                            {(media.length !== 0) ? (\n                                <MyCarousel photos={media} />\n                            ) : (\n                                    <div style={{ textAlign: 'center' }} className={classes.defaultGallery}>\n                                        <img src={svgIconCameraRetro} alt=\"Camera retro logo\" className={classes.cameraRetrologo} />\n                                        <Typography variant=\"h6\">You don't have any photos or videos</Typography>\n                                    </div>\n                                )}\n                        </Card>\n                    </Grid>\n\n                    {/* ##### DATA PANEL ##### */}\n                    <Grid item >\n                        <Grid className={classes.dataTitle} container item>\n                            <img src={svgIconArrows} alt=\"Map logo\" className={classes.datalogo} />\n                            <Box fontSize=\"h5.fontSize\" fontWeight=\"fontWeightBold\">\n                                Info\n                            </Box>\n                        </Grid>\n\n                        <Card variant=\"outlined\" className={classes.data} >\n                            <CardContent>\n                                <Grid container spacing={3}>\n\n                                    <Grid item container spacing={3}>\n                                        <Grid item >\n                                            <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightBold\">\n                                                Date\n                                            </Box>\n                                            <Box fontSize=\"fontSize\" fontWeight=\"fontWeightRegular\">\n                                                {date}\n                                            </Box>\n                                        </Grid>\n\n                                        <Grid item >\n                                            <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightBold\">\n                                                Distance\n                                            </Box>\n                                            <Box fontSize=\"fontSize\" fontWeight=\"fontWeightRegular\">\n                                                {distance}\n                                            </Box>\n                                        </Grid>\n                                    </Grid>\n\n                                    <Grid item>\n                                        <Grid item >\n                                            <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightBold\">\n                                                Description\n                                            </Box>\n                                            <Box fontSize=\"fontSize\" fontWeight=\"fontWeightRegular\">\n                                                {description}\n                                            </Box>\n                                        </Grid>\n                                    </Grid>\n\n                                </Grid>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n\n                </Grid>\n\n\n\n            </Grid>\n        </div>\n    );\n}\n\nexport default withRouter(RouteDetailsCard);","import React, { Component } from 'react';\nimport NavBar from '../../ui/main/NavBar.js';\nimport RouteDetailsCard from \"../../ui/RouteDetailsCard.js\";\nimport cache from '../../../cache/RoutesCache';\nimport { LinearProgress, Typography } from '@material-ui/core';\n\nexport class RouteDetails extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      myroute: null,\n      id: this.props.match.params.id,\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    cache.getRouteById(this.state.id).then((r) => {\n      if (r === -1) {\n        this.props.history.push(\"/404\");\n        return;\n      }\n      this.setState({\n        myroute: r,\n        loading: false,\n      });\n    });\n  }\n\n  render() {\n    const { myroute } = this.state;\n\n    if (this.state.loading) {\n      return (\n        <div style={{ textAlign: \"center\" }}>\n          <LinearProgress />\n          <Typography variant=\"h5\">Loading your route...</Typography>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <div>\n          <NavBar />\n        </div>\n        <div>\n          <RouteDetailsCard route={myroute} ></RouteDetailsCard>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RouteDetails;","import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DateFnsUtils from '@date-io/date-fns';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\n\nexport class DataForm extends Component {\n\n    handleDateChange = (date) => {\n        this.props.handleDateChange(date);\n    };\n\n    next = (e) => {\n        e.preventDefault();\n        this.props.handleNext();\n    }\n\n    handleMediaChange = (selectorFiles: FileList, code) => {\n        this.props.handleMediaChange(selectorFiles, code);\n    }\n\n    render() {\n\n        const { values, handleChange } = this.props;\n\n        return (\n            <React.Fragment>\n                <Typography variant=\"h6\" gutterBottom>\n                    Please, introduce the following data for your new route\n                </Typography>\n                <form onSubmit={this.next}>\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={6} style={{ marginTop: 16 }}>\n                            <TextField\n                                required\n                                id=\"name\"\n                                name=\"name\"\n                                label=\"Name\"\n                                fullWidth\n                                defaultValue={values.name}\n                                autoComplete=\"routename\"\n                                onChange={handleChange('name')}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                                <KeyboardDatePicker\n                                    disableToolbar\n                                    required\n                                    variant=\"inline\"\n                                    id=\"date\"\n                                    name=\"date\"\n                                    format=\"MM/dd/yyyy\"\n                                    margin=\"normal\"\n                                    label=\"Date\"\n                                    value={values.date}\n                                    onChange={this.handleDateChange}\n                                    KeyboardButtonProps={{\n                                        'aria-label': 'date',\n                                    }}\n                                />\n                            </MuiPickersUtilsProvider>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                id=\"description\"\n                                name=\"description\"\n                                label=\"Description\"\n                                multiline\n                                fullWidth\n                                defaultValue={values.description}\n                                rows=\"4\"\n                                variant=\"outlined\"\n                                onChange={handleChange('description')}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={3} >\n                            <input\n                                // disabled\n                                accept=\"image/*\"\n                                style={{ display: 'none' }}\n                                id=\"media-photo\"\n                                multiple\n                                defaultValue={values.photos}\n                                type=\"file\"\n                                onChange={(e) => this.handleMediaChange(e.target.files, 0)} //photos\n                            />\n                            <label htmlFor=\"media-photo\">\n                                <Button \n                                // disabled \n                                variant=\"contained\" color=\"default\" component=\"span\" startIcon={<AddAPhotoIcon />}>\n                                    Photos\n                            </Button>\n                            </label>\n                        </Grid>\n                        <Grid item xs={12} sm={6} >\n                            <input\n                                // disabled\n                                accept=\"video/*\"\n                                style={{ display: 'none' }}\n                                id=\"media-video\"\n                                multiple\n                                defaultValue={values.videos}\n                                type=\"file\"\n                                onChange={(e) => this.handleMediaChange(e.target.files, 1)} //videos\n                            />\n                            <label htmlFor=\"media-video\">\n                                <Button \n                                    // disabled \n                                    variant=\"contained\" color=\"default\" component=\"span\" startIcon={<CloudUploadIcon />}>\n                                    Videos\n                            </Button>\n                            </label>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <FormHelperText id=\"my-helper-text\">Fields marked with (*) are mandatory.</FormHelperText>\n                        </Grid>\n\n                        <Button\n                            id=\"btn-next\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            style={{\n                                marginTop: 12,\n                                marginLeft: 'auto'\n                            }}\n                            type=\"submit\"\n                        >\n                            Next\n                        </Button>\n                    </Grid>\n                </form>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default DataForm;\n","import React, { Component } from 'react';\nimport { Typography, Grid, Button, TextField } from '@material-ui/core';\n\nexport class ReviewForm extends Component {\n\n    next = (e) => {\n        e.preventDefault();\n        this.props.createRoute();\n        this.props.handleNext();\n    }\n\n    back = (e) => {\n        e.preventDefault();\n        this.props.handleBack();\n    }\n\n    getPointsText(points){\n        var pointsText = \"\";\n\n        points.forEach((p) => pointsText += \"Lat: \"+p.lat+\"\\tLong: \"+p.lng+\"\\n\");\n\n        return pointsText;\n    }\n\n    render() {\n\n        const { values } = this.props;\n\n        var month = values.date.getUTCMonth() + 1; //months from 1-12\n        var day = values.date.getUTCDate();\n        var year = values.date.getUTCFullYear();\n\n        const date = month + \"/\" + day + \"/\" + year;        \n\n        return (\n            <div>\n                <React.Fragment>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Please, review all the data\n                    </Typography>\n\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={6} style={{ marginTop: 16 }}>\n                            <TextField\n                                disabled\n                                id=\"name\"\n                                name=\"name\"\n                                label=\"Name\"\n                                fullWidth\n                                defaultValue={values.name}\n                                variant=\"filled\"\n                            />\n                        </Grid>\n\n                        <Grid item xs={12} sm={6} style={{ marginTop: 16 }}>\n                            <TextField\n                                disabled\n                                id=\"date\"\n                                name=\"date\"\n                                label=\"Date\"\n                                fullWidth\n                                defaultValue={date}\n                                variant=\"filled\"\n                            />\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <TextField\n                                disabled\n                                id=\"description\"\n                                name=\"description\"\n                                label=\"Description\"\n                                multiline\n                                fullWidth\n                                defaultValue={values.description}\n                                rows=\"4\"\n                                variant=\"filled\"\n                            />\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <TextField\n                                disabled\n                                id=\"mapPoint\"\n                                name=\"mapPoint\"\n                                label=\"Track Points\"\n                                multiline\n                                fullWidth\n                                defaultValue={this.getPointsText(values.points)}\n                                rows=\"4\"\n                                variant=\"filled\"\n                            />\n                        </Grid>\n                    </Grid>\n\n                    <Grid container spacing={3} style={{ marginTop: 12 }}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"default\"\n                            style={{\n                                marginTop: 12,\n                                marginLeft: '1vh'\n                            }}\n                            onClick={this.back}\n                        >\n                            Back\n                        </Button>\n\n                        <Button\n                            id=\"btn-next\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            style={{\n                                marginTop: 12,\n                                marginLeft: 'auto'\n                            }}\n                            onClick={this.next}\n                        >\n                            Next\n                        </Button>\n                    </Grid>\n                </React.Fragment>\n            </div>\n        );\n    }\n}\n\nexport default ReviewForm;\n","import React, { Component } from 'react';\nimport { Map, Polyline, TileLayer, Marker } from 'react-leaflet';\nimport ReactLeafletSearch from 'react-leaflet-search';\n\nexport class EditableMap extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            points: []\n        };\n        this.firstPoint = true;\n\n    }\n\n    componentDidMount() {\n        this.setState({ points: [] });\n    }\n\n    addPoint = (e) => {\n        this.state.points.push(e.latlng);\n        const { points } = this.state;\n        this.setState({ points: points.slice() });\n        // this.state.points = points;\n\n        if (this.firstPoint === true) {\n            this.props.openNotif(\"You can move a point by dragging it and delete it just clicking on it.\");\n            this.firstPoint = false;\n        }\n    }\n\n    updatePoint = (event) => {\n        var id = event.target.options.marker_index;\n        var position = event.target.getLatLng();\n        this.updatePointById(id, position);\n    }\n\n    updatePointById = (id, position) => {\n        const { points } = this.state;\n\n        points[id] = position;\n        this.setState({ points: points.slice() });\n    }\n\n    removePoint = (event) => {\n        var id = event.target.options.marker_index;\n        this.removePointById(id);\n    }\n\n    removePointById = (id) => {\n        const { points } = this.state;\n        points.splice(id, 1);\n        this.setState({ points: points.slice() });\n    }\n\n    getTrackPoints() {\n        return this.state.points.slice();\n    }\n\n    render() {\n        const position = [43.3619145, -5.8493887];\n        const { points } = this.state;\n\n        return (\n            <React.Fragment>\n                <Map\n                    data-testid=\"test-map-leaflet\"\n                    id=\"test-map-leaflet\"\n                    center={position}\n                    zoom={12}\n                    style={{ width: \"34.5rem\", height: \"20rem\" }}\n                    onClick={this.addPoint}\n                >\n                    <TileLayer\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    />\n\n                    <Polyline positions={points} color='#09012f' />\n\n                    {points.map((position, index) =>\n                        <Marker\n                            key={index}\n                            marker_index={index}\n                            position={position}\n                            draggable={true}\n                            ondrag={this.updatePoint}\n                            onclick={this.removePoint}\n                        >\n                        </Marker>\n                    )}\n\n                    <ReactLeafletSearch\n                        position=\"topleft\"\n                        provider=\"OpenStreetMap\"\n                        // providerOptions={{ region: \"gb\" }}\n                    />\n                </Map>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default EditableMap;\n","import React from 'react';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport CancelOutlinedIcon from '@material-ui/icons/CancelOutlined';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\n\nexport function WarnToast(props) {\n    return (\n        <div >\n            <div><WarningIcon style={{marginBottom: '0.5rem'}} /></div>\n            <div style={{marginBottom: '0.5rem'}}>{props.text}</div>\n        </div>\n    )\n}\n\nexport function InfoToast(props) {\n    return (\n        <div >\n            <div><InfoOutlinedIcon style={{marginBottom: '0.5rem'}} /></div>\n            <div style={{marginBottom: '0.5rem'}}>{props.text}</div>\n        </div>\n    )\n}\n\nexport function ErrorToast(props) {\n    return (\n        <div >\n            <div><CancelOutlinedIcon style={{marginBottom: '0.5rem'}} /></div>\n            <div style={{marginBottom: '0.5rem'}}>{props.text}</div>\n        </div>\n    )\n}\n\nexport function SuccessToast(props) {\n    return (\n        <div >\n            <div><CheckCircleOutlineIcon style={{marginBottom: '0.5rem'}} /></div>\n            <div style={{marginBottom: '0.5rem'}}>{props.text}</div>\n        </div>\n    )\n}","import React, { Component } from 'react';\nimport EditableMap from '../../../map/EditableMap';\nimport { Button, Typography, Grid } from '@material-ui/core';\nimport { toast } from 'react-toastify';\nimport { WarnToast, InfoToast } from '../../../ui/utils/ToastContent';\n\nexport class MapForm extends Component {\n\n    constructor() {\n        super();\n        this.points = React.createRef();\n    }\n\n    next = (e) => {\n        e.preventDefault();\n        if (this.points.current.getTrackPoints() === 'undefined' || this.points.current.getTrackPoints().length === 0) {\n            toast.warn(<WarnToast text={\"Please, select at least one track point to continue.\"} />);\n            return;\n        }\n        this.props.handleMapPoints(this.points.current.getTrackPoints());\n        this.props.handleNext();\n    }\n\n    back = (e) => {\n        e.preventDefault();\n        this.props.handleBack();\n    }\n\n    openNotif = (text) => {\n        toast.info(<InfoToast text={text} />);\n    };\n\n    closeNotif = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n\n        return (\n            <React.Fragment>\n\n                <Typography variant=\"h6\" gutterBottom>\n                    Click on the map to add trackpoints to your route\n                </Typography>\n\n                <form onSubmit={this.next}>\n                    <EditableMap ref={this.points} openNotif={this.openNotif} />\n\n                    <Grid container spacing={3} style={{ marginTop: 12 }}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"default\"\n                            style={{\n                                marginTop: 12,\n                                marginLeft: '1vh'\n                            }}\n                            type=\"submit\"\n                            onClick={this.back}\n                        >\n                            Back\n                        </Button>\n\n                        <Button\n                            id=\"btn-next\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            style={{\n                                marginTop: 12,\n                                marginLeft: 'auto'\n                            }}\n                            type=\"submit\"\n                        >\n                            Next\n                        </Button>\n                    </Grid>\n                </form>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default MapForm;","import React, { Component } from 'react';\nimport { Grid, IconButton, Tooltip } from '@material-ui/core';\nimport DirectionsWalkIcon from '@material-ui/icons/DirectionsWalk';\nimport Typography from '@material-ui/core/Typography';\nimport GetAppIcon from '@material-ui/icons/GetApp';\n\nexport class SuccessForm extends Component {\n\n    download = (e) => {\n        e.preventDefault();\n        this.props.handleDownload();\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <Grid container>\n                    <Grid item xs={12} sm={2}>\n                        <DirectionsWalkIcon fontSize=\"large\" style={{\n                            fill: \"#94E8B4\", width: 65, // 93E1D8\n                            height: 65\n                        }} />\n                    </Grid>\n                    <Grid>\n                        <Grid item xs={12} sm={6}>\n                            <Typography variant=\"h5\" gutterBottom>\n                                Route created\n                        </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\">\n                                Don't worry, we are saving your brand new track\n                        </Typography>\n                        </Grid>\n                    </Grid>\n                    <Tooltip title=\"Download\" arrow>\n                        <IconButton\n                            variant=\"contained\"\n                            color=\"primary\"\n                            style={{\n                                marginLeft: 'auto',\n                                // marginRight: '2vh'\n                            }}\n                            onClick={this.download}\n                        >\n                            <GetAppIcon fontSize=\"large\" style={{ fill: \"#5c5585\" }} />\n                        </IconButton>\n                    </Tooltip>\n                </Grid>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default SuccessForm;","import React, { Component } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Typography from '@material-ui/core/Typography';\nimport DataForm from '../stepper/dataform/DataForm';\nimport ReviewForm from '../stepper/reviewform/ReviewForm';\nimport MapForm from '../stepper/mapform/MapForm';\nimport NavBar from '../../ui/main/NavBar';\nimport SuccessForm from '../stepper/success/SuccessForm';\nimport { withStyles } from '@material-ui/styles';\nimport Route from '../../../entities/Route';\nimport { uploadRoute } from '../../../handler/RouteHandler';\nimport { Grid } from '@material-ui/core';\nimport cache from '../../../cache/RoutesCache';\nimport imageSignal from '../../../assets/img/logo/signal.svg';\nimport Footer from '../../ui/main/Footer';\nimport { toast } from 'react-toastify';\nimport { ErrorToast, SuccessToast } from '../../ui/utils/ToastContent';\n\nexport class NewRouteForm extends Component {\n\n    constructor() {\n\n        super();\n        this.route = null;\n\n        this.state = {\n            // ----  route ----\n            activeStep: 0,\n            name: '',\n            description: '',\n            date: new Date(),\n            photos: [],\n            videos: [],\n            points: []\n        };\n    }\n\n    handleNext = () => {\n        const { activeStep } = this.state;\n        this.setState({ activeStep: activeStep + 1 });\n    };\n\n    handleBack = () => {\n        const { activeStep } = this.state;\n        this.setState({ activeStep: activeStep - 1 });\n    };\n\n    handleChange = (input) => (e) => {\n        this.setState({ [input]: e.target.value });\n    }\n\n    handleDateChange = (newDate) => {\n        this.setState({ date: newDate });\n    }\n\n    handleMediaChange = (selectorFiles: FileList, code) => { // this is not an error, is TypeScript\n        switch (code) {\n            case 0: // photos\n                this.setState({ photos: selectorFiles });\n                break;\n            case 1: // videos\n                this.setState({ videos: selectorFiles });\n                break;\n            default:\n                alert('Invalid media code!! ' + code);\n                break;\n        }\n    }\n\n    handleMapPoints = (newPoints) => {\n        this.setState({ points: newPoints });\n    }\n\n    // ###########################\n    // Download and Upload methods\n    // ###########################\n\n    handleDownload = () => {\n        const fileData = this.route.toJsonLD();\n        const blob = new Blob([fileData], { type: \"text/plain\" });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.download = this.route.getName() + \".json\";\n        link.href = url;\n        link.click();\n    }\n\n    upload(route) {\n        cache.clear();\n        cache.addRouteToCache(route);\n        return new Promise((resolve) => {\n            uploadRoute(route, (response) => resolve(response));\n        });\n    }\n\n    createRoute = () => {\n        const { name, description, date, photos, videos, points } = this.state;\n        let comments = null;\n        let media = [];\n\n        Array.from(photos).forEach((p) => media.push(p));\n        Array.from(videos).forEach((p) => media.push(p));\n\n        this.route = new Route(name, description, points, comments, media, date, null);\n        this.route.calculateElevation();\n        // console.log(this.route);\n        // console.log(\"ROUTE\");\n        // console.log(this.route.toJsonLD());\n        let statusPromise = this.upload(this.route);\n        statusPromise.then((status) => this.checkSuccessCode(status));\n    }\n\n    checkSuccessCode(code) {\n        switch (code) {\n            case -1: // error\n                toast.error(<ErrorToast text={\"There was an error during this operation.\"} />);\n                break;\n            case 0: // success\n                toast.success(<SuccessToast text={\"Your route was successfully saved.\"} />);\n                break;\n            default:\n                throw new Error('Unknown Success Code ' + code);\n        }\n    }\n\n    render() {\n\n        const { activeStep } = this.state;\n        const { name, description, date, photos, videos, points } = this.state;\n        const values = { activeStep, name, description, date, photos, videos, points };\n\n        const { classes } = this.props;\n\n        return (\n            <React.Fragment>\n                <NavBar />\n\n                {/* Route Banner & Form */}\n\n                <Grid container className={classes.background}>\n                    <Grid\n                        // id='background-image-create-route'\n                        item\n                        xs={false}\n                        sm={12}\n                        md={12}\n                        className={classes.image}>\n\n                        <main className={classes.layout}>\n                            <Paper className={classes.paper}>\n                                <img alt=\"NewRouteForm logo\" src={imageSignal} className={classes.avatar} />\n\n                                <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n                                    Create your own route\n                                    </Typography>\n\n                                <Stepper activeStep={activeStep} className={classes.stepper}>\n                                    {steps.map((label) => (\n                                        <Step key={label}>\n                                            <StepLabel>{label}</StepLabel>\n                                        </Step>\n                                    ))}\n                                </Stepper>\n\n                                <React.Fragment>\n                                    {getStepContent(activeStep,\n                                        values,\n                                        this.handleNext,\n                                        this.handleBack,\n                                        this.handleChange,\n                                        this.handleDateChange,\n                                        this.handleMediaChange,\n                                        this.handleMapPoints,\n                                        this.handleDownload,\n                                        this.createRoute\n                                    )}\n                                </React.Fragment>\n                            </Paper>\n                        </main>\n\n                    </Grid>\n\n                    <Grid\n                        item\n                        xs={12}\n                        sm={12}\n                        md={12}\n                    // style={{marginTop: '30rem'}}\n                    >\n                        <Footer />\n                    </Grid>\n                </Grid>\n\n\n            </React.Fragment>\n        );\n    }\n}\n\nconst steps = ['Basic data', 'Map', 'Review your route'];\n\nfunction getStepContent(step,\n    values,\n    handleNext,\n    handleBack,\n    handleChange,\n    handleDateChange,\n    handleMediaChange,\n    handleMapPoints,\n    handleDownload,\n    createRoute) {\n    switch (step) {\n        case 0:\n            return <DataForm\n                handleNext={handleNext}\n                handleChange={handleChange}\n                handleDateChange={handleDateChange}\n                handleMediaChange={handleMediaChange}\n                values={values}\n            />;\n        case 1:\n            return <MapForm\n                handleNext={handleNext}\n                handleBack={handleBack}\n                handleMapPoints={handleMapPoints}\n                values={values}\n            />;\n        case 2:\n            return <ReviewForm\n                handleNext={handleNext}\n                handleBack={handleBack}\n                values={values}\n                createRoute={createRoute}\n            />;\n        case 3:\n            return <SuccessForm\n                handleDownload={handleDownload}\n            />;\n        default:\n            throw new Error('Unknown step ' + step);\n    }\n}\n\nconst useStyles = (theme) => ({\n    layout: {\n        width: 'auto',\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\n            width: 600,\n            marginLeft: 'auto',\n            marginRight: 'auto',\n        },\n    },\n    paper: {\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(3),\n        padding: theme.spacing(2),\n        [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n            marginTop: theme.spacing(6),\n            marginBottom: theme.spacing(6),\n            padding: theme.spacing(3),\n        },\n    },\n    stepper: {\n        padding: theme.spacing(3, 0, 5),\n    },\n    buttons: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n    },\n    button: {\n        marginTop: theme.spacing(3),\n        marginLeft: theme.spacing(1),\n    },\n    avatar: {\n        marginLeft: '45%',\n        marginRight: '45%',\n        height: '3.5rem',\n        width: '3.5rem',\n    },\n    icon: {\n        width: 65,\n        height: 65,\n    },\n    grid: {\n        marginLeft: theme.spacing(2),\n    },\n    background: {\n        // minHeight: '50vmax',\n        // height: 'auto',\n        // width: 'auto'\n    },\n    image: {\n        backgroundImage: `url(https://source.unsplash.com/collection/9847024/1600x900)`,\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        // height: '90vh',\n        minHeight: '90vh',\n    },\n});\n\nexport default withStyles(useStyles)(NewRouteForm);","import React from 'react';\nimport { Card, CardContent, IconButton, CardMedia, Typography, makeStyles, CardActions, Collapse, Box } from '@material-ui/core';\nimport MapSnapshot from '../map/MapSnapshot';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport clsx from 'clsx';\n\nfunction ImportRouteCard(props) {\n    const classes = useStyles();\n    const { route } = props;\n\n    const [expanded, setExpanded] = React.useState(false);\n\n    const handleExpandClick = () => {\n        setExpanded(!expanded);\n    };\n\n    return (\n        <div>\n            <Card elevation={4} className={classes.root}>\n                <div className={classes.details}>\n                    <CardContent className={classes.content}>\n                        <Typography className={classes.title} component=\"h5\" variant=\"h5\">\n                            {route.getName()}\n                        </Typography>\n                    </CardContent>\n\n                    <CardActions disableSpacing>\n                        <IconButton\n                            data-testid=\"btn-expand-test\"\n                            className={clsx(classes.expand, {\n                                [classes.expandOpen]: expanded,\n                            })}\n                            onClick={handleExpandClick}\n                            aria-expanded={expanded}\n                            aria-label=\"show more\"\n                        >\n                            <ExpandMoreIcon />\n                        </IconButton>\n                    </CardActions>\n                    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                        <CardContent >\n                            {(route.getDescription()) ? (\n                                <div>\n                                    <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightBold\">\n                                        Description:\n                                    </Box>\n                                    <Box fontWeight=\"fontWeightRegular\">\n                                        {route.getDescription()}\n                                    </Box>\n                                </div>\n                            ) : (\n                                    <Box fontWeight=\"fontWeightRegular\">\n                                        No description provided.\n                                    </Box>\n                                )}\n                        </CardContent>\n                    </Collapse>\n                </div>\n                <CardMedia\n                    className={classes.cover}\n                >\n                    <MapSnapshot route={route}></MapSnapshot>\n                </CardMedia>\n            </Card>\n        </div>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        marginTop: theme.spacing(5)\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: theme.spacing(50)\n    },\n    content: {\n        flex: '1 0 auto',\n    },\n    title: {\n        martinTop: theme.spacing(5)\n    },\n    cover: {\n        width: theme.spacing(30),\n        marinLeft: 'auto',\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n}));\n\nexport default ImportRouteCard;","import { parseGpx } from \"viade-gpx-parse\";\nimport Route from \"../entities/Route\";\nimport TrackPoint from \"../entities/TrackPoint\";\n\nexport function parseGpxToRoutes(gpxString, callback) {\n\n    try {\n        parseGpx(gpxString, ((error, gpxData) => {\n            var routes = [];\n            var tracks = gpxData.tracks;\n    \n            tracks.forEach((track) => {\n                let route = parseRouteTrack(track);\n                routes.push(route);\n            });\n    \n            return callback(routes);\n        }));\n    } catch(TypeError) {\n        return [];\n    }\n    \n}\n\nfunction parseRouteTrack(track) {\n    var trackpoints = parseTrackpoints(track);\n\n    var name = track.name;\n    var description = track.description;\n\n    let newRoute = new Route(name, description, trackpoints, null, null, null, null, null);\n    return newRoute;\n}\n\nfunction parseTrackpoints(track) {\n    var pointsList = [];\n    track.segments.forEach((segment) => {\n        segment.forEach((trackPoint) => {\n            pointsList.push(new TrackPoint(trackPoint.lat, trackPoint.lon, parseInt( trackPoint.elevation, 10 )));\n        });\n    });\n    return pointsList;\n}\n","import React, { Component } from 'react';\nimport NavBar from '../../ui/main/NavBar';\nimport Footer from '../../ui/main/Footer';\nimport { withStyles, Typography, Paper, Grid, Button } from '@material-ui/core';\nimport ImportRouteCard from '../../ui/ImportRouteCard';\nimport { parseGpxToRoutes } from '../../../parser/ParserGpxToRoute';\nimport ParserJsonLdToRoute from '../../../parser/ParserJsonLdToRoute';\nimport RoutesCache from '../../../cache/RoutesCache';\nimport { uploadRoute } from '../../../handler/RouteHandler';\nimport { toast } from 'react-toastify';\nimport { ErrorToast, SuccessToast } from '../../ui/utils/ToastContent';\n\nexport class ImportRouteForm extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            // --- files ---\n            files: this.props.location.routes,\n            routes: []\n        };\n    }\n\n    componentDidMount() {\n        if (!this.state.files) {\n            this.props.history.push('/404');\n            return;\n        }\n        this.handleFiles();\n    }\n\n    handleFiles() {\n        let re = /(?:\\.([^.]+))?$/;\n\n        this.state.files.forEach((file) => {\n\n            const fileReader = new FileReader();\n\n            fileReader.onerror = () => alert(\"ERROR IMPORTING ROUTE\");\n            fileReader.onabort = () => alert(\"ABORT IMPORTING ROUTE\");\n            fileReader.onload = async () => {\n                const content = fileReader.result;\n                try {\n                    let ext = re.exec(file.name)[0];\n                    if (ext === '.gpx') {\n                        this.handleGPX(content);\n                    } else if (ext === '.jsonld' || ext === '.json') {\n                        await this.handleJSON(content);\n                    }\n                } catch (error) {\n                    alert(error);\n                }\n            };\n            fileReader.readAsText(file);\n        });\n    }\n\n    handleGPX(file) {\n        let routesList = [];\n        parseGpxToRoutes(file, function (routeArray) {\n            routeArray.forEach((route) => {\n                routesList.push(route);\n            });\n        });\n\n        if(routesList.length > 0){\n            routesList.forEach((r) => {\n                this.state.routes.push(r);\n            });\n    \n            const { routes } = this.state;\n            this.setState({ routes: routes.slice() });\n        } else {\n            if(this.state.files.length === 1) {\n                this.props.history.push('/404');\n            }\n            toast.error(<ErrorToast text={\"Some of your routes couldn't be imported.\"} />, {toastId:'2'});\n        }\n    }\n\n    async handleJSON(file) {\n        let parser = new ParserJsonLdToRoute();\n        let route = await parser.parseImport(file);\n\n        if (!route) {\n            if(this.state.files.length === 1) {\n                this.props.history.push('/404');\n            }\n            toast.error(<ErrorToast text={\"Some of your routes couldn't be imported.\"} />);\n        } else {\n            this.state.routes.push(route);\n            const { routes } = this.state;\n            this.setState({ routes: routes.slice() });\n        }\n    }\n\n    async upload() {\n        const { routes } = this.state;\n        let success = [];\n        routes.forEach((r) => {\n            this.uploadRoute(r).then((code) => {\n                success.push(code);\n            });\n        });\n        if (success.includes(-1)) {\n            toast.error(<ErrorToast text={\"There was an error uploading your routes.\"} />);\n        } else {\n            toast.success(<SuccessToast text={\"Your routes were successfully saved.\"} />);\n        }\n        await new Promise((r) => setTimeout(r, 1000));\n        this.props.history.push('/dashboard');\n    }\n\n    uploadRoute(route) {\n        RoutesCache.clear();\n        RoutesCache.addRouteToCache(route);\n        return new Promise((resolve) => {\n            uploadRoute(route, (response) => resolve(response));\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { routes } = this.state;\n\n        return (\n            <div>\n                <NavBar />\n\n                <Grid container className={classes.background}>\n                    <Grid\n                        item\n                        xs={false}\n                        sm={12}\n                        md={12}\n                        className={classes.image}>\n\n                        <main className={classes.layout}>\n                            <Paper className={classes.paper}>\n\n                                <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n                                    Please, review your routes\n                                </Typography>\n\n                                {routes.map((each, index) => (\n                                    <div key={index}>\n                                        <ImportRouteCard route={each} />\n                                    </div>\n                                ))}\n\n                                <div className={classes.btnArea} >\n                                    <Button data-testid=\"btn-test-accept\" onClick={() => this.upload()} className={classes.btn} color=\"primary\" variant=\"contained\">Accept</Button>\n                                </div>\n                            </Paper>\n                        </main>\n\n                    </Grid>\n\n                    <Grid\n                        item\n                        xs={12}\n                        sm={12}\n                        md={12}\n                    // style={{marginTop: '30rem'}}\n                    >\n                        <Footer />\n                    </Grid>\n                </Grid>\n            </div >\n        );\n    }\n}\n\nconst useStyles = (theme) => ({\n    layout: {\n        width: 'auto',\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\n            width: 600,\n            marginLeft: 'auto',\n            marginRight: 'auto',\n        },\n    },\n    paper: {\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(3),\n        padding: theme.spacing(2),\n        [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n            marginTop: theme.spacing(6),\n            marginBottom: theme.spacing(6),\n            padding: theme.spacing(3),\n        },\n    },\n    btn: {\n        // marginRight: theme.spacing(50),\n        marginTop: theme.spacing(5),\n    },\n    btnArea: {\n        textAlign: 'center'\n    },\n    image: {\n        backgroundImage: `url(https://source.unsplash.com/collection/9992041/1600x900)`,\n        // backgroundImage: `url(https://source.unsplash.com/collection/9847024/1600x900)`,\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        minHeight: '90vh',\n    },\n});\n\nexport default withStyles(useStyles)(ImportRouteForm);\n","import React, { useState } from 'react';\nimport { Container, Typography, makeStyles, CssBaseline, Grid, Divider, Paper, Card, Avatar, CardContent, Link } from '@material-ui/core';\nimport NavBar from '../../ui/main/NavBar';\nimport Footer from '../../ui/main/Footer';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { GetUserProfileImage, GetUserWebId } from '../../../handler/UserDataHandler';\nimport { Value } from '@solid/react';\nimport { LogOut } from '../../../handler/SessionHandler';\n\nexport default function Profile() {\n    const classes = useStyles();\n\n    // #### PHOTO ####\n    const [url, setUrl] = useState(\"\");\n\n    GetUserProfileImage().then((path) => {\n        setUrl(path);\n    });\n\n    // #### WEBID ####\n    const [webId, setWebId] = useState(0);\n\n    GetUserWebId().then((url) => {\n        setWebId(url);\n    });\n\n    return (\n        <div className={classes.root}>\n            <NavBar />\n            <CssBaseline />\n            <Container\n                component=\"main\"\n                className={classes.main}\n                maxWidth=\"md\"\n            >\n                <Typography variant=\"h3\">Your Profile</Typography>\n\n                <Paper\n                    // variant=\"outlined\" // change for outline \n                    elevation={0}\n                    className={classes.paper}>\n                    <Tabs\n                        value={0}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                    >\n                        <Tab label=\"General\" />\n                        <Tab label=\"Friends\" href=\"#/profile/friends\" />\n                        <Tab label=\"Groups\" href=\"#/profile/groups\" />\n                    </Tabs>\n                </Paper>\n\n                <Card\n                    className={classes.card}\n                    variant=\"outlined\"\n                >\n                    <CardContent>\n                        <Grid container>\n                            <Grid item>\n                                <Avatar alt=\"Profile photo\" src={url} className={classes.photo} />\n                            </Grid>\n\n                            <Divider orientation=\"vertical\" flexItem />\n\n                            <Grid item >\n                                <Typography className={classes.name} variant=\"h3\" >\n                                    <Value src=\"user.name\" />\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    </CardContent>\n                </Card>\n\n                <Card\n                    className={classes.card}\n                    variant=\"outlined\"\n                >\n                    <CardContent>\n                        <Grid container>\n                            <Grid item>\n                                <Typography variant=\"subtitle1\" >Need to change anything?</Typography>\n                            </Grid>\n\n                            <Typography variant=\"subtitle1\" className={classes.link1}>\n                                Go to your {<Link style={{ color: \"#7c4dff\" }} target=\"_blank\" href={webId}>Solid account</Link>}\n                            </Typography>\n                        </Grid>\n                    </CardContent>\n                </Card>\n\n                <Card\n                    className={classes.card}\n                    variant=\"outlined\"\n                >\n                    <CardContent>\n                        <Grid container>\n                            <Grid item>\n                                <Typography variant=\"subtitle1\" >\n                                    Or you can also {<Link style={{ color: \"#8693E3\" }} href=\"\" onClick={() => LogOut()}>sign out</Link>}.\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    </CardContent>\n                </Card>\n            </Container>\n\n            <Footer />\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        // backgroundColor: \"#8693E3\"\n    },\n    main: {\n        marginTop: theme.spacing(8),\n        marginBottom: theme.spacing(2),\n    },\n    paper: {\n        borderBottom: '1px solid #e8e8e8',\n        marginTop: theme.spacing(2),\n        backgroundColor: \"#fafafa\",\n        width: '100%'\n    },\n    card: {\n        marginTop: theme.spacing(5),\n    },\n    photo: {\n        width: theme.spacing(23),\n        height: theme.spacing(23),\n        margin: theme.spacing(3),\n    },\n    name: {\n        margin: theme.spacing(12),\n    },\n    link1: {\n        marginLeft: theme.spacing(5),\n        color: theme.palette.secondary.dark,\n    }\n}));\n","import { GetUserFriends, GetUserWebId, GetUserName } from \"../handler/UserDataHandler\";\n\nexport default {\n    name: \"\",\n    webId: null,\n    friends: [],\n    getName() {\n        return this.name;\n    },\n    async loadName() {\n        if(this.name.length === 0){\n            this.name = await GetUserName();\n        }\n    },\n    getWebId() {\n        return this.webId;\n    },\n    async loadWebId() {\n        if(this.webId === null){\n            this.webId = await GetUserWebId();\n        }\n    },\n    getFriends() {\n        return this.friends;\n    },\n    async loadFriends() {\n        if (this.friends.length === 0) {\n            this.friends = await GetUserFriends().then((list) => list);\n        }\n    },\n    clearFriends() {\n        this.friends = [];\n    },\n};","import React, { useEffect, useState } from 'react';\nimport { Container, Typography, makeStyles, CssBaseline, Grid, Paper, Card, Avatar, CardContent, Link, CardHeader, IconButton } from '@material-ui/core';\nimport NavBar from '../../ui/main/NavBar';\nimport Footer from '../../ui/main/Footer';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport cache from '../../../cache/UserCache';\nimport LinkIcon from '@material-ui/icons/Link';\nimport { GetUserWebId } from '../../../handler/UserDataHandler';\n\nexport default function ProfileFriends() {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <NavBar />\n            <CssBaseline />\n            <Container\n                component=\"main\"\n                className={classes.main}\n                maxWidth=\"md\"\n            >\n                <Typography variant=\"h3\">Your Friends</Typography>\n\n                <Paper\n                    elevation={0}\n                    className={classes.paper}>\n                    <Tabs\n                        value={1}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                    >\n                        <Tab selected={false} label=\"General\" href=\"#/profile\" />\n                        <Tab selected={true} label=\"Friends\" href=\"#/profile/friends\" />\n                        <Tab label=\"Groups\" href=\"#/profile/groups\" />\n                    </Tabs>\n                </Paper>\n\n                <FriendCardList />\n            </Container>\n\n            <Footer />\n        </div>\n    )\n}\n\nfunction FriendCardList() {\n    const classes = useStyles();\n\n    // #### WEBID ####\n    const [webId, setWebId] = useState(0);\n\n    GetUserWebId().then((url) => {\n        setWebId(url);\n    });\n\n    // #### FRIENDS ####\n    const [friendsList, setFriendsList] = useState([]);\n    useEffect(() => {\n        const list = cache.getFriends();\n        setFriendsList(list);\n    }, []);\n\n    if (!friendsList.length) {\n        return (\n            <div className={classes.friendsList}>\n                <Typography variant=\"h6\">\n                    Oops, it seems you don't have any friends yet.\n                </Typography>\n                <Typography variant=\"subtitle1\">\n                    You can add new friends in your <Link style={{ color: \"#7c4dff\" }} target=\"_blank\" href={webId}>Solid profile</Link>.\n                </Typography>\n\n            </div>\n        );\n    }\n\n    return (\n        <Grid\n            container\n            spacing={2}\n            alignItems=\"center\"\n            justify=\"center\"\n            className={classes.friends}\n        >\n            {friendsList.map((each, index) => {\n                return (\n                    <Grid item key={index}>\n                        <FriendCard friend={each} />\n                    </Grid>\n                )\n            })}\n\n        </Grid>\n    );\n}\n\nfunction FriendCard(props) {\n    const classes = useStyles();\n\n    const { friend } = props;\n\n    var photo = friend.getPhoto();\n    var name = friend.getName();\n    var webid = friend.getWebId();\n\n    return (\n        <Card variant=\"outlined\" className={classes.fCard}>\n            <CardHeader\n                avatar={\n                    <Avatar src={photo} className={classes.fPhoto} />\n                }\n                action={\n                    <IconButton aria-label=\"go to solid\">\n                        <Link style={{ color: \"#7c4dff\" }} target=\"_blank\" href={webid}>\n                            <LinkIcon />\n                        </Link>\n                    </IconButton>\n                }\n            />\n            <CardContent style={{ textAlign: 'center' }}>\n                <Typography variant=\"h6\" color=\"textSecondary\" component=\"p\">\n                    {name}\n                </Typography>\n            </CardContent>\n        </Card>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    main: {\n        marginTop: theme.spacing(8),\n        marginBottom: theme.spacing(2),\n    },\n    paper: {\n        borderBottom: '1px solid #e8e8e8',\n        marginTop: theme.spacing(2),\n        backgroundColor: \"#fafafa\",\n        width: '100%'\n    },\n    friends: {\n        marginTop: theme.spacing(5),\n    },\n    fPhoto: {\n        width: theme.spacing(13),\n        height: theme.spacing(13),\n        marginLeft: '3rem',\n        marginTop: '1rem'\n    },\n    fCard: {\n        display: 'block',\n        width: '15rem',\n        height: theme.spacing(30)\n    },\n    friendsList: {\n        textAlign: 'center',\n        marginTop: theme.spacing(7),\n        marginBottom: theme.spacing(50)\n    }\n}));\n","import logo_inrupt from '../../assets/img/providers/inrupt.svg';\nimport logo_solid from '../../assets/img/providers/solidcommunity.png';\nimport logo_local from '../../assets/img/providers/server.svg';\n\ntype ProviderEntity = {\n    label: String,\n    image: String,\n    value: String,\n    registerLink: String,\n    description: String,\n};\n\nexport default class Provider {\n    /*\n     *  Function to get providers. This is to mimic the future provider registry\n     */\n    static getIdentityProviders(): Array<ProviderEntity> {\n        return [\n            {\n                id: \"inrupt\",\n                label: \"Inrupt\",\n                image: logo_inrupt,\n                value: \"https://inrupt.net/auth\",\n                registerLink: \"https://inrupt.net/register\",\n                description: \"Lorem ipsum dolor sit amet non ipsom dolor\",\n            },\n            {\n                id: \"solid-community\",\n                label: \"Solid Community\",\n                image: logo_solid,\n                value: \"https://solid.community\",\n                registerLink: \"https://solid.community/register\",\n                description: \"Lorem ipsum dolor sit non consectetur\",\n            },\n            {\n                id: \"local-pod-server\",\n                label: \"Local Server\",\n                image: logo_local,\n                value: \"https://localhost:8443\",\n                registerLink: \"https://localhost:8443/register\",\n                description: \"Local server\",\n            },\n        ];\n    }\n}","import React from 'react';\nimport {  Container, Card, CssBaseline, makeStyles, CardContent } from '@material-ui/core';\nimport { ProviderLogin } from \"@inrupt/solid-react-components\";\nimport NavBar from '../../ui/main/NavBar';\nimport Provider from '../../auth/Provider';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginTop: theme.spacing(20)\n    }\n}));\n\nexport default function Login() {\n\n    const classes = useStyles();\n\n    return (\n        <div>\n        <NavBar />\n            <Container component=\"main\" maxWidth=\"sm\">\n                <Card className={classes.root} elevation={4} style={{minHeight: '15rem'}}>\n                    <CssBaseline />\n                    <CardContent>\n                        <ProviderLogin\n                            className='solid-provider-login-component'\n                            callbackUri={`${window.location.protocol}//${window.location.host}/viade_en3b1/#/home`}\n                            selectPlaceHolder='Select your Provider'\n                            inputPlaceholder='Introduza la url de su webId'\n                            formButtonText='Login'\n                            btnTxtWebId='Log In with WebId'\n                            btnTxtProvider='Log In with Provider'\n                            errorsText={{\n                                unknown: 'Something is wrong, please try again...',\n                                webIdNotValid: 'WebID is not valid',\n                                emptyProvider: 'Solid Provider is required',\n                                emptyWebId: 'Valid WebID is required'\n                            }}\n                            providers={Provider.getIdentityProviders()}\n                        />\n                        </CardContent>\n                </Card>\n            </Container>\n        </div>\n    );\n\n}","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useWebId } from \"@inrupt/solid-react-components\";\nimport PageNotFound from \"../containers/pagenotfound/PageNotFound\";\n\nconst PrivateLayout = (props) => {\n    const webId = useWebId();\n    const { component: Component, service, ...rest } = props;\n\n    return (\n        <Route\n            {...rest}\n            component={({ history, location, match, service, name }) => (\n                <div>\n                    {webId ? (\n                        <div>\n                            <Component {...{ history, location, match, service }} />\n                        </div>\n                    ) : (\n                            <div>\n                                <PageNotFound />\n                            </div>\n                        )}\n                </div>\n            )}\n        />\n    );\n};\n\nexport default PrivateLayout;","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nconst PublicLayout = props => {\n  const { component: Component, ...rest } = props;\n\n  return (\n    <Route\n      {...rest}\n      component={({ history, location, match }) => (\n        <div>\n          <Component {...{ history, location, match }} />\n        </div>\n      )}\n    />\n  )\n}\n\nexport default PublicLayout;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useWebId } from '@inrupt/solid-react-components';\n\nconst NotLoggedInLayout = (props) => {\n  const { component: Component, ...rest } = props;\n  const webId = useWebId();\n  \n  return !webId ? (\n    <Route\n      {...rest}\n      component={matchProps => (\n        <div>\n          <Component {...matchProps} />\n        </div>\n      )}\n    />\n  ) : (\n    <Redirect to='/' />\n  )\n}\n\nexport default NotLoggedInLayout;\n","import auth from 'solid-auth-client';\nimport PodHandler from './PodHandler';\n\nexport async function uploadGroup(group, callback) {\n\n    let session = await auth.currentSession();\n    let storageHandler = new PodHandler(session);\n    let fileName = group.getName() + \"@\" + group.getId() + \".jsonld\"; // change for final version\n    \n    //  successCode --> -1 if error. 0 otherwise.\n    storageHandler.storeGroup(fileName, group.toJsonLD(), (status) => {\n        callback(status);\n    });\n}\n\nexport async function loadAllGroups() {\n    let session = await auth.currentSession();\n    let storageHandler = new PodHandler(session);\n\n    let loadedGroups = await storageHandler.findAllGroups();\n\n    return loadedGroups;\n}","import { loadAllGroups } from \"../handler/GroupHandler\";\n\nexport default {\n    groups: [],\n    first: true,\n    async getGroups() {\n        if (this.groups.length === 0 || this.first) {\n            this.groups = await loadAllGroups();\n            this.first = false;\n        }\n        return this.groups;\n    },\n    addGroup(group) {\n        this.groups.push(group);\n    },\n    clearGroups() {\n        this.first = true;\n        this.groups = [];\n    },\n};","import React from 'react';\nimport { Card, CardContent, IconButton, CardMedia, Typography, makeStyles, CardActions, Collapse, Link } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport clsx from 'clsx';\nimport PeopleRoundedIcon from '@material-ui/icons/PeopleRounded';\n\nfunction GroupCard(props) {\n    const classes = useStyles();\n    const { group } = props;\n    const members = group.getMembers();\n\n    const [expanded, setExpanded] = React.useState(false);\n\n    const handleExpandClick = () => {\n        setExpanded(!expanded);\n    };\n\n    function getName(webid) {\n        var username = webid;\n        username = username.replace('https://', '');\n        username = username.replace('.solid.community/profile/card#me', '');\n        username = username.replace('.inrupt.net/profile/card#me', '');\n        return username;\n    }\n\n\n    return (\n        <div>\n            <Card elevation={4} className={classes.root}>\n                <div className={classes.details}>\n                    <CardContent className={classes.content}>\n                        <Typography className={classes.title} component=\"h5\" variant=\"h5\">\n                            {group.getName()}\n                        </Typography>\n                    </CardContent>\n\n                    <CardActions disableSpacing>\n                        <IconButton\n                            data-testid=\"btn-expand-test\"\n                            className={clsx(classes.expand, {\n                                [classes.expandOpen]: expanded,\n                            })}\n                            onClick={handleExpandClick}\n                            aria-expanded={expanded}\n                            aria-label=\"show more\"\n                        >\n                            <ExpandMoreIcon />\n                        </IconButton>\n                    </CardActions>\n                    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                        <CardContent >\n                            {members.map((each, index) => (\n                                <div key={index}>\n                                    <Link href={each} target=\"_blank\">{getName(each)}</Link>\n                                </div>\n                            ))}\n                        </CardContent>\n                    </Collapse>\n                </div>\n                <CardMedia\n                    className={classes.cover}\n                >\n                    <PeopleRoundedIcon style={{fontSize: '5rem', fill: '#7c4dff'}} />\n                </CardMedia>\n            </Card>\n        </div>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        marginTop: theme.spacing(5)\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: theme.spacing(50)\n    },\n    content: {\n        flex: '1 0 auto',\n    },\n    title: {\n        martinTop: theme.spacing(5)\n    },\n    cover: {\n        width: theme.spacing(30),\n        marginLeft: theme.spacing(12),\n        marginTop: theme.spacing(3)\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n}));\n\nexport default GroupCard;","import React, { useState, useEffect } from 'react';\nimport { Container, Typography, makeStyles, CssBaseline, Grid, Paper, Link, Backdrop, CircularProgress, Button } from '@material-ui/core';\nimport NavBar from '../../ui/main/NavBar';\nimport Footer from '../../ui/main/Footer';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport GroupsCache from '../../../cache/GroupsCache';\nimport GroupCard from '../../ui/GroupCard';\n\nexport default function ProfileGroups() {\n\n    const classes = useStyles();\n\n    const [groups, setGroups] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        GroupsCache.getGroups().then((gList) => {\n            setGroups(gList);\n            setLoading(false);\n        })\n    }, [])\n\n    return (\n        <div className={classes.root}>\n            <NavBar />\n            <CssBaseline />\n            <Container\n                component=\"main\"\n                className={classes.main}\n                maxWidth=\"md\"\n            >\n                <Typography variant=\"h3\">Your Groups</Typography>\n\n                <Paper\n                    elevation={0}\n                    className={classes.paper}>\n                    <Tabs\n                        value={2}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                    >\n                        <Tab selected={false} label=\"General\" href=\"#/profile\" />\n                        <Tab selected={true} label=\"Friends\" href=\"#/profile/friends\" />\n                        <Tab label=\"Groups\" href=\"#/profile/groups\" />\n                    </Tabs>\n                </Paper>\n\n                {(loading) ? (\n                    <div style={{ height: '30rem' }}>\n                        <Backdrop style={{ color: '#5c5585' }} open={loading} invisible>\n                            <CircularProgress color=\"inherit\" hidden={loading} />\n                        </Backdrop>\n                    </div>\n                ) : (\n                        (groups.length > 0) ? (\n                            <div>\n                                <div style={{textAlign: 'right', marginTop: '3rem'}}>\n                                    <Button variant=\"outlined\" color=\"primary\" href={\"#/profile/groups/create\"}>Create New</Button>\n                                </div>\n                                <div style={{ marginBottom: '10rem' }}>\n                                    <GroupsList groups={groups} />\n                                </div>\n                            </div>\n                        ) : (\n                                <DefaultPlaceHolder />\n                            )\n                    )}\n\n            </Container>\n\n            <Footer />\n        </div>\n    )\n}\n\nfunction DefaultPlaceHolder() {\n    return (\n        <div style={{ textAlign: 'center', marginTop: '15rem', marginBottom: '15rem' }}>\n            <Typography variant=\"h6\">You don't have any groups yet.</Typography>\n            <Typography variant=\"h6\">Want to {<Link style={{ color: \"#7c4dff\" }} href={\"#/profile/groups/create\"}>add</Link>} some?</Typography>\n        </div>\n    );\n}\n\nfunction GroupsList(props) {\n    const { groups } = props;\n    const classes = useStyles();\n\n    return (\n        <Grid\n            item\n            xs={false}\n            sm={12}\n            md={12}\n        >\n\n            <main className={classes.layout}>\n                {groups.map((each, index) => (\n                    <div key={index}>\n                        <GroupCard group={each} />\n                    </div>\n                ))}\n            </main>\n\n        </Grid>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    main: {\n        marginTop: theme.spacing(8),\n        marginBottom: theme.spacing(2),\n    },\n    paper: {\n        borderBottom: '1px solid #e8e8e8',\n        marginTop: theme.spacing(2),\n        backgroundColor: \"#fafafa\",\n        width: '100%'\n    },\n    layout: {\n        width: 'auto',\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\n            width: 600,\n            marginLeft: 'auto',\n            marginRight: 'auto',\n        },\n    },\n    paper2: {\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(3),\n        padding: theme.spacing(2),\n        backgroundColor: \"#fafafa\",\n        [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n            marginTop: theme.spacing(6),\n            marginBottom: theme.spacing(6),\n            padding: theme.spacing(3),\n        },\n    },\n    friends: {\n        marginTop: theme.spacing(5),\n    },\n    fPhoto: {\n        width: theme.spacing(13),\n        height: theme.spacing(13),\n        marginLeft: '3rem',\n        marginTop: '1rem'\n    },\n    fCard: {\n        display: 'block',\n        width: '15rem',\n        height: theme.spacing(30)\n    },\n    friendsList: {\n        textAlign: 'center',\n        marginTop: theme.spacing(7),\n        marginBottom: theme.spacing(50)\n    }\n}));\n\n// export default withStyles(useStyles)(ProfileGroups);","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport NavBar from '../../ui/main/NavBar.js';\nimport Card from '@material-ui/core/Card';\nimport { Grid, TextField, CardContent, Checkbox, Snackbar, IconButton } from '@material-ui/core';\nimport Footer from '../../ui/main/Footer.js';\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\nimport UserCache from '../../../cache/UserCache.js';\nimport Group from '../../../entities/Group.js';\nimport GroupsCache from '../../../cache/GroupsCache.js';\nimport { uploadGroup } from '../../../handler/GroupHandler.js';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        minWidth: 275,\n        margin: theme.spacing(5),\n        marginTop: theme.spacing(15)\n    },\n    paper: {\n        marginTop: theme.spacing(5),\n        marginBottom: theme.spacing(5),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: '#7c4dff',\n    },\n    form: {\n        width: '80%',\n        marginTop: theme.spacing(1),\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    submit: {\n        margin: theme.spacing(1, 0, 2),\n    },\n    link: {\n        margin: theme.spacing(1, 0, 2),\n    }\n}));\n\nexport default function CreateGroup() {\n    const classes = useStyles();\n\n    const [name, setName] = useState(\"\");\n    const [members, setMembers] = useState([]);\n    const friends = UserCache.getFriends();\n\n    const [open, setOpen] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const [severity, setSeverity] = useState(\"\");\n    const vertical = 'top';\n    const horizontal = 'center';\n\n    function submit(e) {\n        e.preventDefault();\n\n        let webIdList = [];\n        members.forEach((m) => {\n            webIdList.push(m.getWebId());\n        });\n\n        let group = new Group(name, webIdList);\n\n        GroupsCache.clearGroups();\n        GroupsCache.addGroup(group);\n        let statusCode = new Promise((resolve) => {\n            uploadGroup(group, (response) => resolve(response));\n        });\n\n        statusCode.then((code) => {\n            checkStatusCode(code);\n        });\n    };\n\n    const checkStatusCode = (code) => {\n        switch (code) {\n            case -1: // error\n                openNotif(\"Couldn't create your new group\", 'error');\n                break;\n            case 0: // success\n                openNotif(\"Your group was successfully saved\", 'success');\n                break;\n            default:\n                throw new Error('Unknown Success Code ' + code);\n        }\n    };\n\n    const openNotif = (text, newSeverity) => {\n        setMessage(text);\n        setSeverity(newSeverity);\n        setOpen(true);\n    };\n\n    const closeNotif = () => {\n        setOpen(false);\n    };\n\n    const handleChange = (index) => {\n        let memberList = members; // splice(index, 1)\n        let friend = friends[index];\n        if (memberList.includes(friend)) {\n            let indexOfFriend = memberList.indexOf(friend);\n            memberList.splice(indexOfFriend, 1);\n        } else {\n            memberList.push(friend);\n        }\n\n        setMembers(memberList);\n    };\n\n    return (\n        <div>\n            <NavBar />\n\n            <Snackbar\n                anchorOrigin={{ vertical, horizontal }}\n                open={open}\n                action={\n                    <React.Fragment>\n                        <IconButton\n                            aria-label=\"close\"\n                            color=\"inherit\"\n                            onClick={() => closeNotif()}\n                        >\n                            <CloseIcon />\n                        </IconButton>\n                    </React.Fragment>\n                }\n            >\n                <Alert onClose={() => closeNotif()} severity={severity}>\n                    {message}\n                </Alert>\n            </Snackbar>\n\n            <Container component=\"main\" maxWidth=\"sm\">\n                <Card className={classes.root} elevation={4}>\n                    <CssBaseline />\n                    <div className={classes.paper}>\n                        <SupervisedUserCircleIcon fontSize=\"large\" style={{ fill: '#7c4dff', }} />\n                        <Typography component=\"h1\" variant=\"h5\">Want a new group of friends?</Typography>\n                        <div className={classes.form}>\n                            <form onSubmit={(e) => submit(e)}>\n                                <TextField\n                                    required\n                                    id=\"name\"\n                                    name=\"name\"\n                                    label=\"Name\"\n                                    fullWidth\n                                    defaultValue={name}\n                                    autoComplete=\"routename\"\n                                    onChange={(e) => setName(e.target.value)}\n                                />\n\n                                \n                                <div style={{ marginTop: '2rem', marginBottom: '2rem' }}>\n                                <Typography variant=\"subtitle1\" color=\"inherit\">Select the members of your group:</Typography>\n                                    <div style={{ textAlign: \"center\"}}>\n                                    {friends.map((each, index) => (\n                                        <Grid key={index} container style={{ textAlign: \"center\", marginTop: '0.5rem', marginBottom: '0.5rem' }}>\n                                            <Checkbox\n                                                onChange={() => handleChange(index)}\n                                                color=\"primary\"\n                                            />\n                                            <Card variant=\"outlined\"\n                                                style={{ width: '18rem' }}\n                                            >\n                                                <CardContent>\n                                                    <Typography>{each.getName()}</Typography>\n                                                </CardContent>\n                                            </Card>\n                                        </Grid>\n                                    ))}\n                                    </div>\n                                </div>\n                                <div style={{ textAlign: 'center' }}>\n                                    <Button\n                                        data-testid=\"btn-create-group\"\n                                        id=\"btn-create-group\"\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        className={classes.submit}\n                                        type=\"submit\"\n                                    >Create</Button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </Card>\n            </Container>\n            <Grid\n                item\n                xs={12}\n                sm={12}\n                md={12}\n                style={{ marginTop: '36rem' }}\n            >\n                <Footer />\n            </Grid>\n        </div>\n    );\n}\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}","import React from \"react\";\nimport { Box } from \"@material-ui/core\";\n\nconst data = [\n        {\n            title: \"What is Solid?\",\n            content: `It is an open source project, created by Tim Berners-Lee, that aims to achieve a complete, \n            decentralized web allows users to decide where to store their own data.`,\n        },\n        {\n            title: \"What is a Pod?\",\n            content: `A Pod is where data is stored on the Web with Solid. (see quote). A user may store their data in one Pod or several Pods, \n            and applications read and write data into the Pod depending on the authorisations granted by the user or users associated to that Pod.`,\n        },\n        {\n            title: \"Where are my routes saved?\",\n            content: `All your routes, as well as the media files associated with them are stored in your own Pod. When you disconnect from our app,\n            no data is stored on our servers.`,\n        },\n        {\n            title: \"Can I store any number of routes in my Pod?\",\n            content: `Yes, you can store any number of routes that you want in your Pod. To store a route, you can do it manually in\n            your Pod, or you can use our app to create or even import some.`,\n        },\n        {\n            title: \"My routes doesn't seem to load. Why is that?\",\n            content: `If you have a big number of routes associated to your account, you may experience load times bigger than usual. \n            Don't worry about that, if you wait enough, you will be able to see all your routes.`,\n        },\n        {\n            title: \"I can't see all my routes listed. What is the reason?\",\n            content: `ViaDeEn3B1's app only works with routes that comply with ViadeSpec's standard. This means that the application can only list \n            JSON-LD routes that are correctly built.`,\n        },\n        {\n            title: \"When I try to import a route, I get an error. Why is that?\",\n            content: `You can only import GPX, JSON and JSON-LD routes. Those files may contain some errors, so they get rejected and ignored\n            when trying to import them.`,\n        },\n        {\n            title: \"I can't import my GPX route. Why?\",\n            content: `Our GPX-import system is optimized specially for achieving interoperability with Strava's routes. This doesn't mean that\n            you can only import files that come from Strava, but you may encounter some problems if your GPX file has an strange internal structure.`,\n        },\n    ];\n\nexport default function FaqQuestions() {\n    return (\n        <div>\n            <Box fontSize=\"h4.fontSize\" fontWeight=\"fontWeightBold\">Frequently asked questions (FAQ)</Box>\n            <div>\n                {data.map((question) => (\n                  <div style={{marginTop:'2rem'}}>\n                      <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightMedium\">{question.title}</Box>\n                      <Box>{question.content}</Box>\n                  </div>\n                ))}\n            </div>\n        </div>\n    )\n}\n","import React from 'react';\nimport FaqQuestions from './FaqQuestions';\nimport NavBar from '../../ui/main/NavBar';\nimport Footer from '../../ui/main/Footer';\nimport { Container, makeStyles } from '@material-ui/core';\nimport svgIcon from '../../../assets/img/icons/HelpSupport.svg';\n\nexport default function Help() {\n\n    const classes = useStyles();\n\n    return (\n        <div>\n            <NavBar />\n            <Container\n                component=\"main\"\n                className={classes.main}\n                maxWidth=\"md\"\n            >\n                <img alt=\"Help Support\" src={svgIcon} />\n                <FaqQuestions />\n            </Container>\n            <Footer />\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    main: {\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(8),\n    },\n}));","import React from 'react';\nimport NavBar from '../../ui/main/NavBar';\nimport Footer from '../../ui/main/Footer';\nimport { Container, Typography, makeStyles, Grid, Box, Link } from '@material-ui/core';\nimport svgIconMap from '../../../assets/img/icons/AboutMap.svg';\nimport svgIconInterop from '../../../assets/img/icons/AboutInterop.svg';\nimport svgIconMe from '../../../assets/img/icons/AboutMe.svg';\nimport svgIconViaDe from '../../../assets/img/icons/AboutViaDe.svg';\nimport svgIconData from '../../../assets/img/icons/AboutData.svg';\n\nexport default function About() {\n\n    const classes = useStyles();\n\n    return (\n        <div>\n            <NavBar />\n\n            <Grid\n                item\n                xs={false}\n                sm={12}\n                md={12}\n                className={classes.image}>\n                <Typography align=\"center\" className={classes.text}>ViaDe En3B1</Typography>\n            </Grid>\n            <Container\n                component=\"main\"\n                className={classes.main}\n                maxWidth=\"md\"\n            >\n                <Grid container spacing={10}>\n                    <Grid item xs={6}>\n                        <img alt=\"map about\" src={svgIconViaDe} style={{ height: '27rem', width: '27rem' }} />\n                    </Grid>\n                    <Grid item xs={6} className={classes.point}>\n                        <Box fontSize=\"h4.fontSize\" fontWeight=\"fontWeightBold\">What is ViaDe?</Box>\n                        <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightRegular\">It is the first routes management system based on SOLID technology. It has been developed as part of the <Link style={{ color: \"#27DEBF\" }} target=\"_blank\" href={\"https://arquisoft.github.io/\"}>Software Architecture</Link> course at UniOvi.</Box>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={10}>\n                    <Grid item xs={6} className={classes.point}>\n                        <Box fontSize=\"h4.fontSize\" fontWeight=\"fontWeightBold\">Do you need to get somewhere?</Box>\n                        <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightRegular\">With ViaDe, you can create or import any route you want so you can store them and check on them at any moment. You can learn more <Link style={{ color: \"#27DEBF\" }} href={\"#/help\"}>here</Link>.</Box>\n                    </Grid>\n                    <Grid item xs={5}>\n                        <img alt=\"map about\" src={svgIconMap} style={{ height: '27rem', width: '27rem' }} />\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={10}>\n                    <Grid item xs={6}>\n                        <img alt=\"map about\" src={svgIconData} style={{ height: '27rem', width: '27rem' }} />\n                    </Grid>\n                    <Grid item xs={6} className={classes.point}>\n                        <Box fontSize=\"h4.fontSize\" fontWeight=\"fontWeightBold\">Your data? Easy.</Box>\n                        <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightRegular\">All your routes are stored in your personal Pod. Also, we don't keep any personal information, so you can be calm about your data.</Box>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={10}>\n                    <Grid item xs={6} className={classes.point}>\n                        <Box fontSize=\"h4.fontSize\" fontWeight=\"fontWeightBold\">Interoperability</Box>\n                        <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightRegular\">ViaDe En3B1 is interoperable with other ViaDe apps. This means that you can check your routes in other applications, as well as creating new ones. You can try it, it's awesome!</Box>\n                    </Grid>\n                    <Grid item xs={5}>\n                        <img alt=\"map about\" src={svgIconInterop} style={{ height: '27rem', width: '27rem' }} />\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={10}>\n                    <Grid item xs={6}>\n                        <img alt=\"map about\" src={svgIconMe} style={{ height: '27rem', width: '27rem' }} />\n                    </Grid>\n                    <Grid item xs={6} className={classes.point}>\n                        <Box fontSize=\"h4.fontSize\" fontWeight=\"fontWeightBold\">Hi! I'm Pablo.</Box>\n                        <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightRegular\">I am the developer behind ViaDe En3B1.</Box>\n                        <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightRegular\">At the moment, I am a Software Engineering student at UniOvi. When I'm not programming, I enjoy photography, running and movies.</Box>\n                        <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightRegular\">You can contact me on <Link target=\"_blank\" style={{ color: \"#27DEBF\" }} href={\"https://www.linkedin.com/in/pablocanalsuarez/\"}>LinkedIn</Link>, <Link style={{ color: \"#27DEBF\" }} target=\"_blank\" href={\"https://github.com/PabloCanalSuarez\"}>GitHub</Link> or by <Link style={{ color: \"#27DEBF\" }} href={\"mailto:uo264903@uniovi.es\"}>Email</Link>.</Box>\n                    </Grid>\n                </Grid>\n\n\n            </Container>\n            <Footer />\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    main: {\n        marginTop: theme.spacing(8),\n        marginBottom: theme.spacing(8),\n    },\n    text: {\n        fontSize: '12vw',\n        color: '#000000'\n        // color: '#ffffff'\n    },\n    image: {\n        // backgroundImage: `url(https://source.unsplash.com/collection/9847024/1600x900)`,\n        backgroundRepeat: 'no-repeat',\n        // backgroundColor: '#4EFFBB',\n        backgroundColor: '#27DEBF',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        height: '20vw',\n        // minHeight: '90vh',\n    },\n    point: {\n        marginTop: theme.spacing(15)\n    }\n}));","import React, { Fragment } from \"react\";\nimport { HashRouter, Switch, Redirect } from \"react-router-dom\";\nimport Welcome  from \"./welcome/Welcome.js\";\nimport PageNotFound from \"./pagenotfound/PageNotFound.js\";\nimport Register from './register/Register.js';\nimport UserRoutes from './routes/UserRoutes.js';\nimport RouteDetails from './routes/RouteDetails.js';\nimport NewRouteForm from \"./newrouteform/NewRouteForm.js\";\nimport ImportRouteForm from \"./importrouteform/ImportRouteForm\";\nimport Profile from \"./profile/Profile.js\";\nimport ProfileFriends from \"./profile/ProfileFriends.js\";\nimport Login from \"./login/Login.js\";\nimport PrivateLayout from \"../layouts/PrivateLayout.js\";\nimport PublicLayout from \"../layouts/PublicLayout.js\";\nimport NotLoggedInLayout from \"../layouts/NotLoggedInLayout.js\";\nimport ProfileGroups from \"./profile/ProfileGroups.js\";\nimport CreateGroup from \"./creategroup/CreateGroup.js\";\nimport Help from \"./help/Help.js\";\nimport About from \"./help/About.js\";\n\nconst Router = () => (\n  <HashRouter>\n    <Fragment>\n      <Switch>\n        <PublicLayout exact path=\"/404\" component={PageNotFound} />\n        <PublicLayout exact path=\"/help\" component={Help} />\n        <PublicLayout exact path=\"/about\" component={About} />\n        <Redirect exact from=\"/\" to=\"/home\" />\n        <PublicLayout exact path=\"/home\" component={Welcome} />\n        <PrivateLayout exact path=\"/dashboard\" component={UserRoutes} />\n        <NotLoggedInLayout exact path=\"/register\" component={Register}/>\n        <NotLoggedInLayout exact path=\"/login\" component={Login} />\n        <PrivateLayout exact path=\"/create-route\" component={NewRouteForm}/>\n        <PrivateLayout exact path=\"/import-route\" component={ImportRouteForm}/>\n        <PrivateLayout exact path=\"/profile\" component={Profile}/>\n        <PrivateLayout exact path=\"/profile/friends\" component={ProfileFriends}/>\n        <PrivateLayout exact path=\"/profile/groups\" component={ProfileGroups}/>\n        <PrivateLayout exact path=\"/profile/groups/create\" component={CreateGroup}/>\n        <PrivateLayout exact path=\"/RouteDetails/:id\" component={RouteDetails}/>\n      </Switch>\n    </Fragment>\n  </HashRouter>\n);\n\nexport default Router;\n","import React from 'react';\nimport Router from './components/containers/Router.js';\nimport \"./App.css\";\nimport { Helmet } from 'react-helmet';\nimport UserCache from './cache/UserCache.js';\nimport { ToastContainer, toast, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction App() {\n  UserCache.loadFriends();\n\n  return (\n    <div>\n      <Helmet>\n        <title>{'ViaDe'}</title>\n      </Helmet>\n      <ToastContainer\n        position={toast.POSITION.TOP_CENTER}\n        autoClose={4000}\n        transition={Slide}\n        hideProgressBar={false}\n        newestOnTop={true}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        pauseOnHover\n      />\n      <Router />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core';\n\nconst theme = createMuiTheme(\n    {\n        palette: {\n            primary: {\n                main: '#302c58',\n                light: '#5c5585',\n                dark: '#09012f'\n            },\n            secondary: {\n                main: '#f7f6fb',\n                light: '#ffffff',\n                dark: '#c4c3c8'\n            }\n        },\n        typography: {\n            fontFamily: 'Nova'\n        }\n    }\n);\n\nReactDOM.render(<MuiThemeProvider theme = {theme}><App /></MuiThemeProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo_2.3a6f0f91.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo_1.21d2fd21.svg\";","module.exports = __webpack_public_path__ + \"static/media/404.85123741.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.fb216ff3.svg\";","module.exports = __webpack_public_path__ + \"static/media/map.0509229b.svg\";","module.exports = __webpack_public_path__ + \"static/media/mountain.17e8f762.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrows.151bfd04.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera-retro.c1e55643.svg\";","module.exports = __webpack_public_path__ + \"static/media/signal.245eff99.svg\";","module.exports = __webpack_public_path__ + \"static/media/inrupt.19c91157.svg\";","module.exports = __webpack_public_path__ + \"static/media/solidcommunity.a1390d20.png\";","module.exports = __webpack_public_path__ + \"static/media/server.db94fd8b.svg\";","module.exports = __webpack_public_path__ + \"static/media/HelpSupport.a78010bd.svg\";","module.exports = __webpack_public_path__ + \"static/media/AboutMap.af251772.svg\";","module.exports = __webpack_public_path__ + \"static/media/AboutInterop.371613d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/AboutMe.df224c63.svg\";","module.exports = __webpack_public_path__ + \"static/media/AboutViaDe.f2c905a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/AboutData.d5ce39d8.svg\";"],"sourceRoot":""}